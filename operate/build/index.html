<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="Documentation of Trio, an Automated Insulin Delivery system for iOS." name="description"/>
<meta content="Trio Community" name="author"/>
<link href="https://docs.diy-trio.org/operate/build/" rel="canonical"/>
<link href="../../settings/devices/cgm/" rel="prev"/>
<link href="../customize/" rel="next"/>
<link href="../../assets/images/favicon.ico" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.5.40" name="generator"/>
<title>Build Instructions - TrioDocs</title>
<link href="../../assets/stylesheets/main.8c3ca2c6.min.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../assets/stylesheets/primary_color.css" rel="stylesheet"/>
<link href="../../assets/stylesheets/extra.css" rel="stylesheet"/>
<script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="light-blue" data-md-color-primary="deep-purple" data-md-color-scheme="default" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#build-and-update">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<div data-md-color-scheme="default" data-md-component="outdated" hidden="">
</div>
<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="TrioDocs" class="md-header__button md-logo" data-md-component="logo" href="../.." title="TrioDocs">
<img alt="logo" src="../../assets/images/trio-logo.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            TrioDocs
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Build Instructions
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="light-blue" data-md-color-media="(prefers-color-scheme)" data-md-color-primary="deep-purple" data-md-color-scheme="default" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"></path></svg>
</label>
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="light-blue" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="deep-purple" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"></path></svg>
</label>
<input aria-label="Switch to auto (use System Preferences)" class="md-option" data-md-color-accent="light-blue" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="deep-purple" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to auto (use System Preferences)">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
<div class="md-search__suggest" data-md-component="search-suggest"></div>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/nightscout/trio-docs" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
</div>
<div class="md-source__repository">
    nightscout/trio-docs
  </div>
</a>
</div>
</nav>
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../..">
        
  
    
  
  Home

      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../Getting-Started/Overview/">
          
  
  Overview

        </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="./">
          
  
  Build/Update Trio

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../settings/configuration/preferences/trio/">
          
  
  User Settings

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../settings/services/applehealth/">
          
  
  Optional Settings

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../settings/configuration/autotune/">
          
  
  Advanced Settings

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../resources/citations/">
          
  
  Resources

        </a>
</li>
</ul>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="TrioDocs" class="md-nav__button md-logo" data-md-component="logo" href="../.." title="TrioDocs">
<img alt="logo" src="../../assets/images/trio-logo.png"/>
</a>
    TrioDocs
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/nightscout/trio-docs" title="Go to repository">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
</div>
<div class="md-source__repository">
    nightscout/trio-docs
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../..">
<span class="md-ellipsis">
    Home
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../Getting-Started/Overview/">
<span class="md-ellipsis">
    Overview
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
<span class="md-ellipsis">
    Build/Update Trio
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            Build/Update Trio
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
<span class="md-ellipsis">
    Build Instructions
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    Build Instructions
  </span>
</a>
<nav aria-label="On this Page" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      On this Page
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#build-trio-with-github">
<span class="md-ellipsis">
      Build Trio with GitHub
    </span>
</a>
<nav aria-label="Build Trio with GitHub" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#create-the-trio-app-group">
<span class="md-ellipsis">
      Create the Trio App Group
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#table-of-identifiers">
<span class="md-ellipsis">
      Table of Identifiers
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#add-trio-app-group-to-identifiers">
<span class="md-ellipsis">
      Add Trio App Group to Identifiers
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#configure-trio-app">
<span class="md-ellipsis">
      Configure Trio App
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#create-certificates">
<span class="md-ellipsis">
      Create Certificates
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#build-trio">
<span class="md-ellipsis">
      Build Trio
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#optional">
<span class="md-ellipsis">
      Optional
    </span>
</a>
<nav aria-label="Optional" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#one-time-update-to-display-branch-and-commit-in-testflight">
<span class="md-ellipsis">
      One-Time Update to Display Branch And Commit in Testflight
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#update-trio-with-github">
<span class="md-ellipsis">
      Update Trio with GitHub
    </span>
</a>
<nav aria-label="Update Trio with GitHub" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#one-time-update-for-trio-app-group">
<span class="md-ellipsis">
      One-time Update for Trio App Group
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#continue-updating">
<span class="md-ellipsis">
      Continue Updating
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#distribution-certificate">
<span class="md-ellipsis">
      Distribution Certificate
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#build-trio_1">
<span class="md-ellipsis">
      Build Trio
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#build-trio-with-xcode">
<span class="md-ellipsis">
      Build Trio with Xcode
    </span>
</a>
<nav aria-label="Build Trio with Xcode" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#build-trio-with-script">
<span class="md-ellipsis">
      Build Trio with Script
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#build-trio_2">
<span class="md-ellipsis">
      Build Trio
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#build-related-apps">
<span class="md-ellipsis">
      Build Related Apps
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#run-maintenance-utilities">
<span class="md-ellipsis">
      Run Maintenance Utilities
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#build-errors">
<span class="md-ellipsis">
      Build Errors
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#xdrip4ios-or-glucose-direct-as-cgm-source">
<span class="md-ellipsis">
      xDrip4iOS or Glucose Direct as CGM Source
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#xdrip4ios">
<span class="md-ellipsis">
      xDrip4iOS
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#glucose-direct">
<span class="md-ellipsis">
      Glucose Direct
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#alternative-branch-for-trio">
<span class="md-ellipsis">
      Alternative Branch for Trio
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#update-trio-with-xcode">
<span class="md-ellipsis">
      Update Trio with Xcode
    </span>
</a>
<nav aria-label="Update Trio with Xcode" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#open-terminal">
<span class="md-ellipsis">
      Open Terminal
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#customizations">
<span class="md-ellipsis">
      Customizations
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#update-your-code">
<span class="md-ellipsis">
      Update your Code
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#submodule-update">
<span class="md-ellipsis">
      Submodule Update
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#fix-trio-conflicts">
<span class="md-ellipsis">
      Fix Trio Conflicts
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#fix-submodule-conflicts">
<span class="md-ellipsis">
      Fix Submodule Conflicts
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#first-xcode-build-with-trio-app-group">
<span class="md-ellipsis">
      First Xcode Build with Trio App Group
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#xcode-behaviors">
<span class="md-ellipsis">
      Xcode Behaviors
    </span>
</a>
<nav aria-label="Xcode Behaviors" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#prepare-the-shell-script">
<span class="md-ellipsis">
      Prepare the Shell Script
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#add-behaviors-to-xcode">
<span class="md-ellipsis">
      Add Behaviors to Xcode
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#where-is-my-download">
<span class="md-ellipsis">
      Where is my Download
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#special-section-on-trio-app-group">
<span class="md-ellipsis">
      Special Section on Trio App Group
    </span>
</a>
<nav aria-label="Special Section on Trio App Group" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#browser-build-after-app-group-change">
<span class="md-ellipsis">
      Browser Build after App Group Change
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mac-build-after-app-group-change">
<span class="md-ellipsis">
      Mac Build after App Group Change
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#consequences-of-trio-app-group">
<span class="md-ellipsis">
      Consequences of Trio App Group
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../customize/">
<span class="md-ellipsis">
    Customizations
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../settings/configuration/preferences/trio/">
<span class="md-ellipsis">
    User Settings
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../settings/services/applehealth/">
<span class="md-ellipsis">
    Optional Settings
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../settings/configuration/autotune/">
<span class="md-ellipsis">
    Advanced Settings
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
<li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
<a class="md-nav__link" href="../../resources/citations/">
<span class="md-ellipsis">
    Resources
  </span>
<span class="md-nav__icon md-icon"></span>
</a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="On this Page" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      On this Page
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#build-trio-with-github">
<span class="md-ellipsis">
      Build Trio with GitHub
    </span>
</a>
<nav aria-label="Build Trio with GitHub" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#create-the-trio-app-group">
<span class="md-ellipsis">
      Create the Trio App Group
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#table-of-identifiers">
<span class="md-ellipsis">
      Table of Identifiers
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#add-trio-app-group-to-identifiers">
<span class="md-ellipsis">
      Add Trio App Group to Identifiers
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#configure-trio-app">
<span class="md-ellipsis">
      Configure Trio App
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#create-certificates">
<span class="md-ellipsis">
      Create Certificates
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#build-trio">
<span class="md-ellipsis">
      Build Trio
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#optional">
<span class="md-ellipsis">
      Optional
    </span>
</a>
<nav aria-label="Optional" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#one-time-update-to-display-branch-and-commit-in-testflight">
<span class="md-ellipsis">
      One-Time Update to Display Branch And Commit in Testflight
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#update-trio-with-github">
<span class="md-ellipsis">
      Update Trio with GitHub
    </span>
</a>
<nav aria-label="Update Trio with GitHub" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#one-time-update-for-trio-app-group">
<span class="md-ellipsis">
      One-time Update for Trio App Group
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#continue-updating">
<span class="md-ellipsis">
      Continue Updating
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#distribution-certificate">
<span class="md-ellipsis">
      Distribution Certificate
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#build-trio_1">
<span class="md-ellipsis">
      Build Trio
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#build-trio-with-xcode">
<span class="md-ellipsis">
      Build Trio with Xcode
    </span>
</a>
<nav aria-label="Build Trio with Xcode" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#build-trio-with-script">
<span class="md-ellipsis">
      Build Trio with Script
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#build-trio_2">
<span class="md-ellipsis">
      Build Trio
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#build-related-apps">
<span class="md-ellipsis">
      Build Related Apps
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#run-maintenance-utilities">
<span class="md-ellipsis">
      Run Maintenance Utilities
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#build-errors">
<span class="md-ellipsis">
      Build Errors
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#xdrip4ios-or-glucose-direct-as-cgm-source">
<span class="md-ellipsis">
      xDrip4iOS or Glucose Direct as CGM Source
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#xdrip4ios">
<span class="md-ellipsis">
      xDrip4iOS
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#glucose-direct">
<span class="md-ellipsis">
      Glucose Direct
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#alternative-branch-for-trio">
<span class="md-ellipsis">
      Alternative Branch for Trio
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#update-trio-with-xcode">
<span class="md-ellipsis">
      Update Trio with Xcode
    </span>
</a>
<nav aria-label="Update Trio with Xcode" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#open-terminal">
<span class="md-ellipsis">
      Open Terminal
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#customizations">
<span class="md-ellipsis">
      Customizations
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#update-your-code">
<span class="md-ellipsis">
      Update your Code
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#submodule-update">
<span class="md-ellipsis">
      Submodule Update
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#fix-trio-conflicts">
<span class="md-ellipsis">
      Fix Trio Conflicts
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#fix-submodule-conflicts">
<span class="md-ellipsis">
      Fix Submodule Conflicts
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#first-xcode-build-with-trio-app-group">
<span class="md-ellipsis">
      First Xcode Build with Trio App Group
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#xcode-behaviors">
<span class="md-ellipsis">
      Xcode Behaviors
    </span>
</a>
<nav aria-label="Xcode Behaviors" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#prepare-the-shell-script">
<span class="md-ellipsis">
      Prepare the Shell Script
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#add-behaviors-to-xcode">
<span class="md-ellipsis">
      Add Behaviors to Xcode
    </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#where-is-my-download">
<span class="md-ellipsis">
      Where is my Download
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#special-section-on-trio-app-group">
<span class="md-ellipsis">
      Special Section on Trio App Group
    </span>
</a>
<nav aria-label="Special Section on Trio App Group" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#browser-build-after-app-group-change">
<span class="md-ellipsis">
      Browser Build after App Group Change
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#mac-build-after-app-group-change">
<span class="md-ellipsis">
      Mac Build after App Group Change
    </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#consequences-of-trio-app-group">
<span class="md-ellipsis">
      Consequences of Trio App Group
    </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/nightscout/trio-docs/edit/dev/docs/operate/build.md" title="Edit this page">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"></path></svg>
</a>
<h1 id="build-and-update">Build and Update<a class="headerlink" href="#build-and-update" title="Link to this section for reference">¶</a></h1>
<p><strong>Jump to...</strong><br/>
Build with <a href="#build-trio-with-github">GitHub</a> | <a href="#build-trio-with-xcode">Mac-Xcode</a> | <a href="#build-trio-with-script">Script</a><br/>
Update with <a href="#update-trio-with-github">GitHub</a> | <a href="#update-trio-with-xcode">Mac-Xcode</a><br/>
Special Section on Trio App Group <a href="#special-section-on-trio-app-group">Special Section on Trio App Group</a></p>
<h2 id="build-trio-with-github">Build Trio with GitHub<a class="headerlink" href="#build-trio-with-github" title="Link to this section for reference">¶</a></h2>
<p>The Trio repository contains instructions for building the Trio app using a browser and GitHub. More detailed instructions are also available in LoopDocs.</p>
<ul>
<li><a href="https://github.com/nightscout/Trio/blob/main/fastlane/testflight.md">GitHub Build Instructions</a></li>
<li><a href="https://loopkit.github.io/loopdocs/browser/bb-overview/">LoopDocs: GitHub Build Overview</a></li>
<li><a href="https://loopkit.github.io/loopdocs/browser/other-apps/">LoopDocs: GitHub Build Other Apps</a></li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If using the LoopDocs instructions you need the important information below to build Trio instead of Loop</p>
</div>
<p><strong>Every app you build will use the same <a href="https://loopkit.github.io/loopdocs/browser/intro-summary/#make-a-secrets-reference-file">6 Secrets</a>.</strong></p>
<ul>
<li>Fork from: <a href="https://github.com/nightscout/Trio">https://github.com/nightscout/Trio</a></li>
<li>Identifiers for Trio: see <a href="#table-of-identifiers">Table of Identifiers</a></li>
<li>You use the <code>Trio App Group</code> for Trio, see <a href="#create-the-trio-app-group">Create the <code>Trio App Group</code></a></li>
<li>Add the <code>Trio App Group</code> to these identifiers:<ul>
<li><code>Trio</code></li>
<li><code>Trio Watch</code></li>
<li><code>Trio WatchKit Extension</code></li>
</ul>
</li>
<li>In <code>App Store Connect</code>, the <code>Bundle ID</code> for Trio will be: <code>org.nightscout.TEAMID.trio</code></li>
</ul>
<h3 id="create-the-trio-app-group">Create the <code>Trio App Group</code><a class="headerlink" href="#create-the-trio-app-group" title="Link to this section for reference">¶</a></h3>
<p>If you already have a <code>Trio App Group</code></p>
<ul>
<li>You can skip this step - your existing App Groups are found at this link: <a href="https://developer.apple.com/account/resources/identifiers/list/applicationGroup">App Group List</a></li>
<li>If your <code>Trio App Group</code> was created from a Mac with Xcode, you may choose to edit the Description to make the <strong>NAME</strong> match</li>
</ul>
<p>If you do not have a <code>Trio App Group</code>:</p>
<ul>
<li>Go to <a href="https://developer.apple.com/account/resources/identifiers/applicationGroup/add/">Register an App Group</a> on the Apple developer site and use the table below to help you create one.</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align: left;">NAME</th>
<th style="text-align: left;">Xcode version (NAME)</th>
<th style="text-align: left;">IDENTIFIER</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Trio App Group</td>
<td style="text-align: left;">group org nightscout TEAMID trio trio-app-group</td>
<td style="text-align: left;">group.org.nightscout.TEAMID.trio.trio-app-group</td>
</tr>
</tbody>
</table>
<h3 id="table-of-identifiers">Table of Identifiers<a class="headerlink" href="#table-of-identifiers" title="Link to this section for reference">¶</a></h3>
<ul>
<li>If you built previously using a Mac with Xcode, you may see the Xcode version in your <strong>NAME</strong> column - it starts with XC and then the <strong>IDENTIFIER</strong> is appended where the <code>.</code> is replaced with a space, the example for Trio is shown in detail</li>
<li>If you built during early beta testing, you might not have <code>Trio</code> at the beginning of each <strong>IDENTIFIER</strong> and the full <strong>NAME</strong> may be slightly different</li>
<li>Optional: You can click on a given row, and edit the Description to match the <strong>NAME</strong> from the table below. This might make building easier in the future</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align: left;">NAME</th>
<th style="text-align: left;">Xcode version (NAME)</th>
<th style="text-align: left;">IDENTIFIER</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Trio</td>
<td style="text-align: left;">XC org nightscout TEAMID trio</td>
<td style="text-align: left;">org.nightscout.TEAMID.trio</td>
</tr>
<tr>
<td style="text-align: left;">Trio LiveActivity</td>
<td style="text-align: left;">-</td>
<td style="text-align: left;">org.nightscout.TEAMID.trio.LiveActivity</td>
</tr>
<tr>
<td style="text-align: left;">Trio Watch</td>
<td style="text-align: left;">XC IDENTIFIER</td>
<td style="text-align: left;">org.nightscout.TEAMID.trio.watchkitapp</td>
</tr>
<tr>
<td style="text-align: left;">Trio WatchKit Extension</td>
<td style="text-align: left;">XC IDENTIFIER</td>
<td style="text-align: left;">org.nightscout.TEAMID.trio.watchkitapp.watchkitextension</td>
</tr>
</tbody>
</table>
<h3 id="add-trio-app-group-to-identifiers">Add Trio App Group to Identifiers<a class="headerlink" href="#add-trio-app-group-to-identifiers" title="Link to this section for reference">¶</a></h3>
<p>Open the <a href="https://developer.apple.com/account/resources/identifiers/list">App IDs Identifier page for your Apple Developer Account</a>.</p>
<p>Click on the <code>Trio</code> Identifier and assign the <code>Trio App Group</code> to the Identifier - see graphic below.</p>
<p><img alt="add Trio App Group to identifiers" src="../img/choose-trio-app-group.png"/></p>
<p>Repeat this for the other 2 identifiers that need to have an App Group assigned: <code>Trio Watch</code> and <code>Trio WatchKit Extension</code></p>
<h3 id="configure-trio-app">Configure Trio App<a class="headerlink" href="#configure-trio-app" title="Link to this section for reference">¶</a></h3>
<p>Follow the directions in <a href="https://loopkit.github.io/loopdocs/browser/prepare-app/#create-loop-app-in-app-store-connect">LoopDocs</a>, but use the Trio <code>Bundle ID</code></p>
<ul>
<li>In <code>App Store Connect</code>, the <code>Bundle ID</code> for Trio will be: <code>org.nightscout.TEAMID.trio</code></li>
</ul>
<h3 id="create-certificates">Create Certificates<a class="headerlink" href="#create-certificates" title="Link to this section for reference">¶</a></h3>
<p>Follow the directions in <a href="https://loopkit.github.io/loopdocs/browser/certs/">LoopDocs</a> but run the <code>Create Certificates</code> action for the Trio fork.</p>
<h3 id="build-trio">Build Trio<a class="headerlink" href="#build-trio" title="Link to this section for reference">¶</a></h3>
<p>Follow the directions in <a href="https://loopkit.github.io/loopdocs/browser/build-yml/">LoopDocs</a> but run the <code>Build Trio</code> action for the Trio fork.</p>
<h2 id="optional">Optional<a class="headerlink" href="#optional" title="Link to this section for reference">¶</a></h2>
<h3 id="one-time-update-to-display-branch-and-commit-in-testflight">One-Time Update to Display Branch And Commit in Testflight<a class="headerlink" href="#one-time-update-to-display-branch-and-commit-in-testflight" title="Link to this section for reference">¶</a></h3>
<p>The Trio build can be configured to display the branch name and commit ID as test notes in TestFlight. This is an optional step, which can be especially useful if building the <code>dev</code> branch.</p>
<p>First, you must have already built Trio and have it available on <a href="https://appstoreconnect.apple.com/apps">Apple App Store Connect</a>.</p>
<ul>
<li>Tap on the <code>TestFlight</code> tab</li>
<li>Choose any build to open a new detailed screen for that build</li>
<li>In the <code>Test Details</code> section, type anything you want</li>
</ul>
<p>After you have done this one-time step, each successive build will include the branch name and commit automatically.</p>
<p>You can add additional tests notes for any build if you desire.</p>
<p><a href="#build-and-update">Top of Page</a></p>
<h2 id="update-trio-with-github">Update Trio with GitHub<a class="headerlink" href="#update-trio-with-github" title="Link to this section for reference">¶</a></h2>
<p>First, make sure any Apple License agreements have been accepted:</p>
<ul>
<li><a href="https://developer.apple.com/account">Apple Developer Page</a></li>
</ul>
<p>Second, make sure you have a valid Distributor certificate; if not, see <a href="#distribution-certificate">Distribution Certificate</a>:</p>
<ul>
<li><a href="https://developer.apple.com/account/resources/certificates/list">Apple Certificate Page</a></li>
</ul>
<h3 id="one-time-update-for-trio-app-group">One-time Update for Trio App Group<a class="headerlink" href="#one-time-update-for-trio-app-group" title="Link to this section for reference">¶</a></h3>
<p>If you built previously, before the App Group changed from <code>Loop</code> to <code>Trio</code>, you need to do this step. Then you can <a href="#continue-updating">Continue Updating</a>.</p>
<ul>
<li><a href="#create-the-trio-app-group">Create the <code>Trio App Group</code></a></li>
<li>Examine the <a href="#table-of-identifiers">Table of Identifiers</a> - it is optional, but editing the descriptions to match the <strong>Names</strong> in that table will make following directions easier in the future</li>
<li>Update the <a href="#add-trio-app-group-to-identifiers">App Group to be the <code>Trio App Group</code> for the Identifiers (Trio, Trio Watch and Trio Watchkit Extension)</a></li>
<li>Run the <strong>Action: 3. Create Certificates</strong> to make certificates that go with the new <code>Trio App Group</code></li>
</ul>
<h3 id="continue-updating">Continue Updating<a class="headerlink" href="#continue-updating" title="Link to this section for reference">¶</a></h3>
<p>Open your fork at <code>github.com/YOUR-USERNAME/Trio</code> with your GitHub username instead of <code>YOUR-USERNAME</code></p>
<ul>
<li>Look to see if your fork is up to date</li>
<li>If your fork shows that your branch is behind, sync the branch to get the latest updates</li>
</ul>
<h3 id="distribution-certificate">Distribution Certificate<a class="headerlink" href="#distribution-certificate" title="Link to this section for reference">¶</a></h3>
<p>When you first build using GitHub, a Distribution Certificate is generated. It typically is valid for one year. You should get an email from Apple when you are within 30 days of that certificate expiring. When it expires, you can no longer build a new app. (Existing apps in TestFlight are not affected, they get the full 90 days.)</p>
<p>The directions to renew your Distribution Certificate are found in <a href="https://loopkit.github.io/loopdocs/browser/bb-update/#renew-certificate">LoopDocs: Renew Certificate</a>.</p>
<h3 id="build-trio_1">Build Trio<a class="headerlink" href="#build-trio_1" title="Link to this section for reference">¶</a></h3>
<p>Select <strong>Actions: 4. Build Trio</strong> and wait about an hour for your updated app to appear in TestFlight.</p>
<p><a href="#build-and-update">Top of Page</a></p>
<h2 id="build-trio-with-xcode">Build Trio with Xcode<a class="headerlink" href="#build-trio-with-xcode" title="Link to this section for reference">¶</a></h2>
<p>If you build Trio on your Mac using Xcode, the recommendation is to use the <a href="#build-trio-with-script"><strong>TrioBuildSelectScript</strong></a> to build your code.</p>
<h3 id="build-trio-with-script">Build Trio with Script<a class="headerlink" href="#build-trio-with-script" title="Link to this section for reference">¶</a></h3>
<p>The <strong><code>TrioBuildSelectScript</code></strong> is similar to the script used to build Loop. If you need it, extensive instructions for that script are provided at these links: <a href="https://loopkit.github.io/loopdocs/build/step14/#build-select-script">LoopDocs: Build Select Script</a> and <a href="https://www.loopandlearn.org/build-select/">Loop and Learn: Build Select Script</a>.</p>
<p>The <strong><code>TrioBuildSelectScript</code></strong> offers the choice to:</p>
<ol>
<li><a href="#build-trio"><code>Build Trio</code></a></li>
<li><a href="#build-related-apps"><code>Build Related Apps</code></a></li>
<li><a href="#run-maintenance-utilities"><code>Run Maintenance Utilities</code></a></li>
<li><code>Exit Script</code></li>
</ol>
<p>To execute the <strong><code>TrioBuildSelectScript</code></strong>, open a terminal on your Mac and copy and paste the command below into the terminal. Then, read and follow the directions. </p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a href="#__codelineno-0-1" id="__codelineno-0-1" name="__codelineno-0-1"></a>/bin/bash -c "$(curl -fsSL \
</span><span id="__span-0-2"><a href="#__codelineno-0-2" id="__codelineno-0-2" name="__codelineno-0-2"></a>  https://raw.githubusercontent.com/loopandlearn/lnl-scripts/main/TrioBuildSelectScript.sh)"
</span></code></pre></div>
<h3 id="build-trio_2">Build Trio<a class="headerlink" href="#build-trio_2" title="Link to this section for reference">¶</a></h3>
<p>When you select <strong><code>Build Trio</code></strong>, you will be provided with a choice of branches with information to guide your selection and URL for documentation. This script will then download a fresh copy of your selected branch and guide you through building with Xcode on your Mac.</p>
<ul>
<li>Once the download completes, the script will also<ul>
<li>Create the automatic signing file</li>
<li>Offer to remove provisioning profiles from your computer to ensure the build will last an entire year</li>
<li>Provide instructions for how to build the app once Xcode opens</li>
<li>Open Xcode with your new download.</li>
</ul>
</li>
<li>At this point, the main menu is displayed again for you to select another option or to exit the script</li>
</ul>
<p>The download is placed in your <code>Downloads</code> folder in a directory called <code>BuildTrio</code>. The downloaded clone is found in a folder with the branch name, date, and time encoded.</p>
<h3 id="build-related-apps">Build Related Apps<a class="headerlink" href="#build-related-apps" title="Link to this section for reference">¶</a></h3>
<p>When you select <strong><code>Build Related Apps</code></strong>, you will be provided with a choice of apps that users of Trio often use. Once you make your selection, the script will provide similar steps to download and build the selected app.</p>
<p>The choices are:</p>
<ol>
<li><code>Build Loop Follow</code></li>
<li><code>Build xDrip4iOS</code></li>
<li><code>Build Glucose Direct</code></li>
<li><code>Return to Menu</code></li>
</ol>
<h3 id="run-maintenance-utilities">Run Maintenance Utilities<a class="headerlink" href="#run-maintenance-utilities" title="Link to this section for reference">¶</a></h3>
<p>When you select <strong><code>Run Maintenance Utilities</code></strong>, you will be provided with a choice of utilities helpful for Mac builders.</p>
<p>The following options are offered:</p>
<ol>
<li><code>Delete Old Downloads</code></li>
<li><code>Clean Derived Data</code></li>
<li><code>Xcode Cleanup (The Big One)</code></li>
<li><code>Clean Profiles</code></li>
<li><code>Return to Menu</code></li>
</ol>
<p>For more information, refer to <a href="https://www.loopandlearn.org/build-select/#utilities-disk">Loop and Learn: Maintenance Utitilites</a> documentation.</p>
<h3 id="build-errors">Build Errors<a class="headerlink" href="#build-errors" title="Link to this section for reference">¶</a></h3>
<p>If you encounter any build issues, please look at the <a href="https://loopkit.github.io/loopdocs/build/build_errors/">LoopDocs Build</a> errors page. Only some things on that page are relevant for building Trio, but many potential issues will likely be covered there. You will also get helpful advice about what info to provide if you need to ask for help. When you have identified the error message(s), you can use the search tool in LoopDocs to see if your error is mentioned.</p>
<p>If you need it, you are most likely to get help in one of these groups:</p>
<ul>
<li><a href="https://discord.gg/FnwFEFUwXE">Discord: Trio channel</a></li>
<li><a href="https://www.facebook.com/groups/1351938092206709">Facebook group: Trio</a></li>
<li>Facebook groups like <a href="https://www.facebook.com/groups/LOOPandLEARN">Loop and Learn</a> and <a href="https://www.facebook.com/groups/1782449781971680">Looped</a> primarily focus on Loop but offer a wide variety of support surrounding all types of DIY Looping.</li>
</ul>
<h3 id="xdrip4ios-or-glucose-direct-as-cgm-source">xDrip4iOS or Glucose Direct as CGM Source<a class="headerlink" href="#xdrip4ios-or-glucose-direct-as-cgm-source" title="Link to this section for reference">¶</a></h3>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>LibreTransmitter is provided as part of Trio. Neither xDrip4iOS nor Glucose Direct are required to interact with your compatible Libre sensor using Trio.</p>
</div>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Until the providers of Glucose Direct add a Trio App Group to their app, you cannot use this app with Trio.</p>
</div>
<p>If you want to use xDrip4iOS as a CGM source via “shared app group,” you must also build that app from a source with the same developer ID used for building Trio. Scripts are available for these apps as well. All scripts follow the same download and build pattern and configure automatic signing files for you.</p>
<p>The download is placed in your <code>Downloads</code> folder in a directory called <code>BuildxDrip4iOS</code> or <code>BuildGlucoseDirect</code>, respectively. The downloaded clone is found in a folder with the branch name, date, and time encoded.</p>
<p>These can be accessed using the <a href="#build-trio-with-script"><strong>TrioBuildSelectScript</strong></a> menu options mentioned above. Or you can run each script individually.</p>
<h3 id="xdrip4ios">xDrip4iOS<a class="headerlink" href="#xdrip4ios" title="Link to this section for reference">¶</a></h3>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>You must build xDrip4iOS version 5.3.1 or newer to have access to the Trio App Group required to work with Trio.</p>
</div>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a href="#__codelineno-1-1" id="__codelineno-1-1" name="__codelineno-1-1"></a>/bin/bash -c "$(curl -fsSL \
</span><span id="__span-1-2"><a href="#__codelineno-1-2" id="__codelineno-1-2" name="__codelineno-1-2"></a>  https://raw.githubusercontent.com/loopandlearn/lnl-scripts/main/BuildxDrip4iOS.sh)"
</span></code></pre></div>
<h3 id="glucose-direct">Glucose Direct<a class="headerlink" href="#glucose-direct" title="Link to this section for reference">¶</a></h3>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Until the providers of Glucose Direct add a <code>Trio App Group</code> to their app, you cannot use this app with Trio.</p>
</div>
<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a href="#__codelineno-2-1" id="__codelineno-2-1" name="__codelineno-2-1"></a>/bin/bash -c "$(curl -fsSL \
</span><span id="__span-2-2"><a href="#__codelineno-2-2" id="__codelineno-2-2" name="__codelineno-2-2"></a>  https://raw.githubusercontent.com/loopandlearn/lnl-scripts/main/BuildGlucoseDirect.sh)"
</span></code></pre></div>
<h3 id="alternative-branch-for-trio">Alternative Branch for Trio<a class="headerlink" href="#alternative-branch-for-trio" title="Link to this section for reference">¶</a></h3>
<p>Sometimes, specific branches are offered for testing. Any desired branch can be cloned using the <strong><code>Build Trio</code></strong> script. After the final quote of the script command, add a space, hyphen, space, and branch_name. An example is shown below: replace <code>branch_name</code> with your desired branch. Note that specific branches like this are not deleted as part of the <code>Delete Old Downloads</code> utility discussed in <a href="#run-maintenance-utilities">Maintenance Utilities</a>.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a href="#__codelineno-3-1" id="__codelineno-3-1" name="__codelineno-3-1"></a>/bin/bash -c "$(curl -fsSL \
</span><span id="__span-3-2"><a href="#__codelineno-3-2" id="__codelineno-3-2" name="__codelineno-3-2"></a>  https://raw.githubusercontent.com/loopandlearn/lnl-scripts/main/BuildTrio.sh)" - branch_name
</span></code></pre></div>
<p><a href="#build-and-update">Top of Page</a></p>
<h2 id="update-trio-with-xcode">Update Trio with Xcode<a class="headerlink" href="#update-trio-with-xcode" title="Link to this section for reference">¶</a></h2>
<p>Because Trio uses submodules, there are actions you need to perform when updating that are easiest using the command line interface (CLI) in a terminal opened in the same folder as the Trio workspace.</p>
<p>If you prefer, you can use the <a href="#build-trio-with-script">Build Script</a> to download and build a fresh copy.</p>
<p>This section tells you how to update the version you already have on your computer.</p>
<p>Open Xcode. If your Trio workspace is not already open, you can usually find it in the recent projects, as shown in the graphic below. You can also pull down the Xcode menu for <code>File</code>, select <code>Open Recent</code>, and find your workspace.</p>
<p><img alt="xcode welcome screen" src="../img/update-xcode-source-control-welcome.png"/></p>
<h3 id="open-terminal">Open Terminal<a class="headerlink" href="#open-terminal" title="Link to this section for reference">¶</a></h3>
<p>Once you have Xcode open with your previous build of Trio, the first thing to do is open a terminal. Here are two methods - choose one:</p>
<ol>
<li>Use Xcode, <code>Behaviors</code>, <code>Open Terminal</code> if you configured <a href="#xcode-behaviors">Xcode Behaviors</a></li>
<li>Locate the <code>Trio</code> folder using <a href="#where-is-my-download">Where is my Download</a></li>
</ol>
<h3 id="customizations">Customizations<a class="headerlink" href="#customizations" title="Link to this section for reference">¶</a></h3>
<p>Always attempt to <a href="#update-your-code">Update your Code</a> first. Typically, your customizations can be left alone and <code>git</code> will merge the new code without requiring any additional action on your part.</p>
<ul>
<li>If you have a customization, you can often proceed with the update with no issues</li>
<li>If your customization conflicts with a file or submodule that is being updated, you get a clear error message and need to proceed to <a href="#fix-trio-conflicts">Fix Trio Conflicts</a></li>
</ul>
<h3 id="update-your-code">Update your Code<a class="headerlink" href="#update-your-code" title="Link to this section for reference">¶</a></h3>
<p>In the terminal, you will copy and paste this pair of commands to update your workspace and all your submodules.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a href="#__codelineno-4-1" id="__codelineno-4-1" name="__codelineno-4-1"></a>git fetch
</span><span id="__span-4-2"><a href="#__codelineno-4-2" id="__codelineno-4-2" name="__codelineno-4-2"></a>git pull --recurse
</span></code></pre></div>
<p>The first command <code>git fetch</code> brings down any updates about the state of the Trio workspace repository from GitHub.</p>
<p>The second command <code>git pull --recurse</code> does several things:</p>
<ul>
<li>Brings down any updates about the state of the submodule repositories from GitHub, e.g., <code>Fetching submodule XXXX</code> repeated for each submodule</li>
<li>Merges any changes from GitHub into your local copy of the Trio workspace</li>
<li>For each submodule, it updates the version to match the one selected in GitHub, see <a href="#submodule-update">Submodule Update</a> for more details</li>
</ul>
<p>There can be errors in several places, for example:</p>
<div class="language-text no-copy highlight"><pre><span></span><code><span id="__span-5-1"><a href="#__codelineno-5-1" id="__codelineno-5-1" name="__codelineno-5-1"></a>error: Your local changes to the following files would be overwritten by merge:
</span><span id="__span-5-2"><a href="#__codelineno-5-2" id="__codelineno-5-2" name="__codelineno-5-2"></a>    FreeAPS/folder/file.swift
</span><span id="__span-5-3"><a href="#__codelineno-5-3" id="__codelineno-5-3" name="__codelineno-5-3"></a>Please commit your changes or stash them before you merge.
</span><span id="__span-5-4"><a href="#__codelineno-5-4" id="__codelineno-5-4" name="__codelineno-5-4"></a>Aborting
</span></code></pre></div>
<p>The <code>pull</code> command halts at this error and does not move on updating the submodules. You must first fix the Trio workspace files using <a href="#fix-trio-conflicts">Fix Trio Conflicts</a>.</p>
<ul>
<li>If there was no error similar to the one shown above, you will see the word <code>Updating</code> with the list of files changed.</li>
<li>If there were no updates, you'll see <code>Already up to date</code></li>
</ul>
<h3 id="submodule-update">Submodule Update<a class="headerlink" href="#submodule-update" title="Link to this section for reference">¶</a></h3>
<ul>
<li>If there are no updates to submodules, you won't see any submodule update messages - that is not uncommon</li>
<li>If there are updates to one or more submodules with no errors, you will see messages indicating the submodules are being checked out similar to the one below</li>
</ul>
<div class="language-text no-copy highlight"><pre><span></span><code><span id="__span-6-1"><a href="#__codelineno-6-1" id="__codelineno-6-1" name="__codelineno-6-1"></a>Submodule path 'ModuleName': checked out 'f11abde5e2eea2cbf7ac80f3f4bc4bc6e7f6de56'
</span></code></pre></div>
<p>If you see the word <code>error</code> or <code>conflict</code> on the output, similar to the following, head over to <a href="#fix-submodule-conflicts">Fix Submodule Conflicts</a>.</p>
<div class="language-text no-copy highlight"><pre><span></span><code><span id="__span-7-1"><a href="#__codelineno-7-1" id="__codelineno-7-1" name="__codelineno-7-1"></a>error: Your local changes to the following files would be overwritten by checkout:
</span><span id="__span-7-2"><a href="#__codelineno-7-2" id="__codelineno-7-2" name="__codelineno-7-2"></a>    SubModuleName/folder/file.swift
</span><span id="__span-7-3"><a href="#__codelineno-7-3" id="__codelineno-7-3" name="__codelineno-7-3"></a>Please commit your changes or stash them before you switch branches.
</span><span id="__span-7-4"><a href="#__codelineno-7-4" id="__codelineno-7-4" name="__codelineno-7-4"></a>Aborting
</span><span id="__span-7-5"><a href="#__codelineno-7-5" id="__codelineno-7-5" name="__codelineno-7-5"></a>fatal: Unable to checkout 'f11abde5e2eea2cbf7ac80f3f4bc4bc6e7f6de56' in submodule path 'SubModuleName'
</span></code></pre></div>
<p>If you saw no errors, you are ready to build.</p>
<h3 id="fix-trio-conflicts">Fix Trio Conflicts<a class="headerlink" href="#fix-trio-conflicts" title="Link to this section for reference">¶</a></h3>
<p>If you have customizations in the Trio code (in the workspace) that cause a conflict when you <code>pull</code>, it is best to delete those and start fresh. (Expert users know how to handle this, these directions are for novices):</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-8-1"><a href="#__codelineno-8-1" id="__codelineno-8-1" name="__codelineno-8-1"></a>git reset --hard
</span><span id="__span-8-2"><a href="#__codelineno-8-2" id="__codelineno-8-2" name="__codelineno-8-2"></a>git clean -fd
</span><span id="__span-8-3"><a href="#__codelineno-8-3" id="__codelineno-8-3" name="__codelineno-8-3"></a>git pull
</span></code></pre></div>
<p>You should see the words: <code>Your branch is up to date with origin/main</code> (or <code>dev</code> or other branch if you are not running <code>main</code>.)</p>
<p>Now you need to continue to update the submodules with this command:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-9-1"><a href="#__codelineno-9-1" id="__codelineno-9-1" name="__codelineno-9-1"></a>git submodule update
</span></code></pre></div>
<p>If there are no conflicts, you are ready to build the Trio app to your phone.</p>
<p>If there are conflicts similar to those shown in <a href="#submodule-update">Submodule Update</a>, fix them before building.</p>
<h3 id="fix-submodule-conflicts">Fix Submodule Conflicts<a class="headerlink" href="#fix-submodule-conflicts" title="Link to this section for reference">¶</a></h3>
<p>If you have customizations in the submodules that conflict with the update, you see a message <code>fatal: Unable to checkout</code> the submodule. It is easiest to discard the customizations and reapply them manually after the update:</p>
<ul>
<li>Read which submodule failed to <code>checkout</code></li>
<li>Change directory to that module: <code>cd modulename</code></li>
<li>Discard your changes: <code>git reset --hard; git clean -fd</code></li>
<li>Return to the Trio folder and try again: <code>cd ..; git submodule update</code></li>
</ul>
<p>If another submodule fails to checkout, repeat the steps for that <code>modulename</code>.</p>
<p>If there are no errors, the Trio code is now updated.</p>
<p>If Xcode is not open, you can open it by typing <code>xed .</code> in the Trio folder of your terminal window.</p>
<p>You can now build the updated Trio app to your phone.</p>
<h3 id="first-xcode-build-with-trio-app-group">First Xcode Build with Trio App Group<a class="headerlink" href="#first-xcode-build-with-trio-app-group" title="Link to this section for reference">¶</a></h3>
<p>If you previously built using Xcode when the Loop App Group was used, you may need to let Xcode connect with <em>Apple</em> to update the new <code>Trio App Group</code>. See instructions at <a href="#mac-build-after-app-group-change">Mac Build after App Group Change</a>.</p>
<p><a href="#build-and-update">Top of Page</a></p>
<h2 id="xcode-behaviors">Xcode Behaviors<a class="headerlink" href="#xcode-behaviors" title="Link to this section for reference">¶</a></h2>
<p>You can add Behaviors to your version of Xcode. These custom Behaviors only need to be added once.</p>
<p>You will create a shell script and add it to Xcode.</p>
<ul>
<li><code>Open Terminal</code> will open a terminal in the workspace or project folder currently in use by Xcode</li>
</ul>
<h3 id="prepare-the-shell-script">Prepare the Shell Script<a class="headerlink" href="#prepare-the-shell-script" title="Link to this section for reference">¶</a></h3>
<p>Open a new terminal:</p>
<p>Step 1: Create a folder to store your shell scripts by copying and pasting the next line (only do this one time or you will get an error message):</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-10-1"><a href="#__codelineno-10-1" id="__codelineno-10-1" name="__codelineno-10-1"></a>mkdir ~/scripts
</span></code></pre></div>
<p>Step 2: Copy and paste this command into your terminal to prepare the <code>Open Terminal</code> shell script:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-11-1"><a href="#__codelineno-11-1" id="__codelineno-11-1" name="__codelineno-11-1"></a>touch ~/scripts/open_terminal.sh; open -e ~/scripts/open_terminal.sh
</span></code></pre></div>
<p>Copy and paste the following lines into the editor and then save and close the file.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-12-1"><a href="#__codelineno-12-1" id="__codelineno-12-1" name="__codelineno-12-1"></a>#!/bin/bash
</span><span id="__span-12-2"><a href="#__codelineno-12-2" id="__codelineno-12-2" name="__codelineno-12-2"></a>open -a Terminal "`pwd`"
</span></code></pre></div>
<p>Step 3: Make the shell script executable; Copy and paste this command into your terminal:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-13-1"><a href="#__codelineno-13-1" id="__codelineno-13-1" name="__codelineno-13-1"></a>chmod +x ~/scripts/*.sh
</span></code></pre></div>
<h3 id="add-behaviors-to-xcode">Add Behaviors to Xcode<a class="headerlink" href="#add-behaviors-to-xcode" title="Link to this section for reference">¶</a></h3>
<p>Under the Xcode menu item, select <code>Behaviors</code>, <code>Edit Behaviors</code></p>
<p>Follow these steps (refer to the graphic below):</p>
<ol>
<li>At the bottom of the window, click the <code>+</code> sign</li>
<li>Under the <code>Custom</code> section, you should see the <code>New Behavior</code> row, enter <code>Open Terminal</code></li>
<li>On the right side at the bottom, click on <code>Run</code>, then <code>Choose Script</code></li>
</ol>
<p><img alt="xcode behaviors - ready to select open terminal script" src="../img/xcode-add-behavior.png"/></p>
<ul>
<li>Navigate to your username (mine is <code>marion</code>) and find the <code>scripts</code> directory</li>
<li>Highlight the file <code>open-terminal.sh</code> and then select <code>Save</code></li>
</ul>
<p><img alt="xcode behaviors - choose the open terminal script" src="../img/choose-open-terminal-script.png"/></p>
<p>The Behavior <code>Open Terminal</code> is now ready for you to use, as shown in this graphic.</p>
<p><img alt="xcode behaviors - open terminal" src="../img/xcode-behaviors.png"/></p>
<p>Return to <a href="#open-terminal">Open Terminal</a>.</p>
<h2 id="where-is-my-download">Where is my Download<a class="headerlink" href="#where-is-my-download" title="Link to this section for reference">¶</a></h2>
<p>If you have Xcode open, you can right-click on any file and select <code>Show in Finder</code>. Then at the bottom of the Finder window, right-click on the Trio folder and select <code>New Terminal at Folder</code>.</p>
<p>If you do not have Xcode open, you can use <em>Finder</em> to locate the directory where the <code>BuildTrio</code> script saved the code. The directory is named after the branch with the date and time for the download:</p>
<ul>
<li>Released (main) branch: Downloads/BuildTrio/Trio_main-[date-time]/Trio<ul>
<li>Example: <code>~/Downloads/BuildTrio/Trio_main-220122-1352/Trio</code></li>
</ul>
</li>
<li>Development (dev) branch: Downloads/BuildTrio/Trio_dev-[date-time]/Trio<ul>
<li>Example: <code>~/Downloads/BuildTrio/Trio_dev-220108-1827/Trio</code></li>
</ul>
</li>
</ul>
<p>Use <em>Finder</em> to open a Terminal window at the <code>Trio</code> directory by right-clicking on it and selecting <code>New Terminal at Folder</code>. </p>
<p>To open Xcode, type <code>xed .</code> in the Terminal.</p>
<p>Return to <a href="#open-terminal">Open Terminal</a>.</p>
<h2 id="special-section-on-trio-app-group">Special Section on Trio App Group<a class="headerlink" href="#special-section-on-trio-app-group" title="Link to this section for reference">¶</a></h2>
<ul>
<li>If you have never built Trio before - just follow the instructions on this page: return <a href="#build-and-update">Top of Page</a></li>
<li>If you have already built Trio and have added the <code>Trio App Group</code>: return <a href="#build-and-update">Top of Page</a></li>
<li>If you have already built Trio, but you did not add the <code>Trio App Group</code> (or are not sure), please read this section for hints and help</li>
</ul>
<p>Instructions for <a href="#browser-build-after-app-group-change">GitHub</a> | <a href="#mac-build-after-app-group-change">Mac-Xcode</a></p>
<h3 id="browser-build-after-app-group-change">Browser Build after App Group Change<a class="headerlink" href="#browser-build-after-app-group-change" title="Link to this section for reference">¶</a></h3>
<p>In order to build the Trio app with Browser Build, you must assign the <code>Trio App Group</code> to 3 of the 4 identifiers for Trio.</p>
<h4 id="step-1-create-trio-app-group">Step 1: Create Trio App Group<a class="headerlink" href="#step-1-create-trio-app-group" title="Link to this section for reference">¶</a></h4>
<ul>
<li>Check if you have a <code>Trio App Group</code>: <a href="https://developer.apple.com/account/resources/identifiers/list/applicationGroup">List your App Groups</a></li>
<li>Create a <code>Trio App Group</code> if you don't have one: <a href="https://developer.apple.com/account/resources/identifiers/applicationGroup/add/">Register an App Group</a></li>
</ul>
<table>
<thead>
<tr>
<th style="text-align: left;">NAME</th>
<th style="text-align: left;">Xcode version (NAME)</th>
<th style="text-align: left;">IDENTIFIER</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Trio App Group</td>
<td style="text-align: left;">group org nightscout TEAMID trio trio-app-group</td>
<td style="text-align: left;">group.org.nightscout.TEAMID.trio.trio-app-group</td>
</tr>
</tbody>
</table>
<h4 id="step-2-assign-trio-app-group-to-trio-identifiers">Step 2: Assign Trio App Group to Trio Identifiers<a class="headerlink" href="#step-2-assign-trio-app-group-to-trio-identifiers" title="Link to this section for reference">¶</a></h4>
<p>Return to <a href="#add-trio-app-group-to-identifiers">Add Trio App Group to Identifiers</a></p>
<h3 id="mac-build-after-app-group-change">Mac Build after App Group Change<a class="headerlink" href="#mac-build-after-app-group-change" title="Link to this section for reference">¶</a></h3>
<p>The first time you build Trio after the change from <code>Loop App Group</code> to <code>Trio App Group</code>, you are likely to see the build error in the first graphic.</p>
<p><img alt="build error after switching to trio app group" src="../img/trio-error-after-app-group-change.png"/></p>
<p>You must be connected to the internet and must allow Xcode to connect to Apple to update your app group. Tap in the four locations (in order): (1) Folder Icon, (2) FreeAPS folder, (3) Signing &amp; Capabilities and (4) Target: FreeAPS, as indicated in the graphic below. The app group may momentarily appear in red font, then will update to black font for the trio-app-group. Continue until you have examined three targets <code>FreeAPS</code>, <code>FreeAPSWatch</code> and <code>FreeAPSWatch Watchkit Extension</code>. When those targets show the correct App Group, press the build symbol again.</p>
<p><img alt="add Trio App Group to identifiers" src="../img/trio-allow-xcode-to-update.png"/></p>
<h3 id="consequences-of-trio-app-group">Consequences of <code>Trio App Group</code><a class="headerlink" href="#consequences-of-trio-app-group" title="Link to this section for reference">¶</a></h3>
<p>If you use xDrip4iOS or GlucoseDirect as your CGM for Trio, they need to support the same <code>App Group</code> as Trio.</p>
<ul>
<li>xDrip4iOS requires version 5.3.1 or newer to support the <code>Trio App Group</code></li>
<li>GlucoseDirect has not been updated, at this time, so does not currently work with Trio as a CGM source</li>
</ul>
</article>
</div>
<script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Back to top
</button>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: CGMs" class="md-footer__link md-footer__link--prev" href="../../settings/devices/cgm/">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</div>
<div class="md-footer__title">
<span class="md-footer__direction">
                Previous
              </span>
<div class="md-ellipsis">
                CGMs
              </div>
</div>
</a>
<a aria-label="Next: Customizations" class="md-footer__link md-footer__link--next" href="../customize/">
<div class="md-footer__title">
<span class="md-footer__direction">
                Next
              </span>
<div class="md-ellipsis">
                Customizations
              </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
<div class="md-copyright__highlight">
      Trio Community
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
<div class="md-social">
<a class="md-social__link" href="https://github.com/nightscout/trio-docs" rel="noopener" target="_blank" title="Trio on GitHub">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"></path></svg>
</a>
<a class="md-social__link" href="https://discord.gg/FnwFEFUwXE" rel="noopener" target="_blank" title="Trio on Discord">
<svg viewbox="0 0 640 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485 485 0 0 0 404.081 32.03a1.82 1.82 0 0 0-1.923.91 338 338 0 0 0-14.9 30.6 447.9 447.9 0 0 0-134.426 0 310 310 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.7 483.7 0 0 0-119.688 37.107 1.7 1.7 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.02 2.02 0 0 0 .765 1.375 487.7 487.7 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348 348 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321 321 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251 251 0 0 0 9.109-7.137 1.82 1.82 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.81 1.81 0 0 1 1.924.233 235 235 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.4 301.4 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391 391 0 0 0 30.014 48.815 1.86 1.86 0 0 0 2.063.7A486 486 0 0 0 610.7 405.729a1.88 1.88 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541M222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241m195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241"></path></svg>
</a>
<a class="md-social__link" href="https://www.facebook.com/groups/diytrio" rel="noopener" target="_blank" title="Trio on Facebook">
<svg viewbox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256c0 120 82.7 220.8 194.2 248.5V334.2h-52.8V256h52.8v-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287v175.9C413.8 494.8 512 386.9 512 256"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<div class="md-progress" data-md-component="progress" role="progressbar"></div>
<script id="__config" type="application/json">{"base": "../..", "features": ["announce.dismiss", "content.action.edit", "content.code.copy", "content.tabs.link", "navigation.footer", "navigation.instant", "navigation.instant.progress", "navigation.prune", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.suggest", "search.highlight", "toc.follow"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": "0.2.1"}</script>
<script src="../../assets/javascripts/bundle.525ec568.min.js"></script>
<script src="../../assets/javascripts/mathjax.js"></script>
<script src="../../assets/javascripts/mkdocs-exporter.js"></script>
<script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.9.1/mermaid.min.js"></script>
<script src="/js/open_in_new_tab.js"></script>
</body>
</html>