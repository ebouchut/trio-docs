{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"EN/","title":"Home","text":"<p>Work-In-Progress</p> <p>PLEASE NOTE THIS DOCUMENTATION IS STILL BEING WRITTEN BY OUR AWESOME COMMUNITY. UNTIL IT IS FINISHED, PLEASE DO NOT SET UP YOUR TRIO BASED ON THIS DOCUMENTATION ALONE. CONTACT THE COMMUNITY ON DISCORD OR FACEBOOK TO MAKE SURE YOU GET IT RIGHT AND STAY SAFE</p>"},{"location":"EN/#what-is-trio","title":"What is Trio?","text":"<p>Trio is an automated insulin delivery system for iOS based on the OpenAPS algorithm with adaptations for Trio.</p> <p>The project started as Ivan Valkou's FreeAPS X implementation of the OpenAPS algorithm for iPhone and later forked and rebranded as iAPS. Since then, many developers have contributed substantial work, leading to a range of new features and enhancements.</p> <p>Following the release of version 3.0.0, the project's direction significantly changed due to differing views on development, open source, and peer review. This led to the separation from the Artificial-Pancreas/iAPS repository and the birth of Trio as a distinct entity. This transition marks the project's new phase, symbolizing its evolution and the collaborative development's dynamic nature.</p> <p>Trio continues to leverage a variety of frameworks from the DIY looping community and remains at the forefront of DIY diabetes management solutions, constantly evolving with valuable contributions from its community.</p> <p>Before starting with Trio, you should evaluate all your closed-loop options, including:</p> <ul> <li>Commercial systems such as Medtronic's 780G, Tandem's Control-IQ, or Insulet's Omnipod 5</li> <li>Other open-source applications like Loop and AndroidAPS</li> </ul> <p>Warning</p> <p>Trio is a DIY, open-source community project. It has not been evaluated by any regulatory agency and is for use at your own risk.</p>"},{"location":"EN/#getting-started","title":"Getting Started","text":"<p>Before starting with Trio, you should understand carb ratio (CR), insulin sensitivity factor (ISF), and basal rates. If you have read the documentation and still require help identifying your settings, please seek advice from your healthcare provider.</p> <p>To use Trio, you are required to build the application from the source code. This does not require substantial technical know-how but is a time-consuming process. You may need several sessions to complete your first build.</p> <p>Upon installation, you will need to configure your settings appropriately. By default Trio acts no differently than your pump, with the exception that it may recommend temporary basals from time to time. The magic happens by turning on \"Closed Loop\", enabling Super Micro Bolus (SMB) features, and turning on dynamic features.</p> <p>In general, these are the first three settings you will want to configure as you gain confidence in the app and your settings:</p> <ul> <li>Enable Closed Loop for automation</li> <li>Increase Max IOB to \"average meal bolus + 3x max daily basal\"</li> <li>Enable SMB and UAM for automatic bolusing (ensure your ISF is optimized before enabling this) See Configure for more information on Trio configuration.</li> </ul> <p>If you are considering a transition from another closed loop system, please read this section first.</p>"},{"location":"EN/#contribution","title":"Contribution","text":"<p>Trio is built by a volunteer community. If you are interested in helping as a programmer, you can contribute to the Trio or OpenAPS code base. Trio is mostly written in SwiftUI, and the OpenAPS algorithm is written in JS.</p> <p>You can also provide support in online support groups by helping users adjust their settings and troubleshoot common errors.</p>"},{"location":"EN/Analyze/EvaluateBasal/","title":"EvaluateBasal","text":""},{"location":"EN/Analyze/EvaluateBasal/#evaluate-basal","title":"Evaluate Basal","text":"<p>:::{warning} This is not medical advice. Understanding the changes you are making is important, and always be sure to exercise caution. When in doubt, consult your diabetes care team for settings guidance. :::</p>"},{"location":"EN/Analyze/EvaluateBasal/#before-adjusting-basal-rates","title":"Before Adjusting Basal Rates","text":"<ol> <li> <p>Consider CR and ISF First</p> </li> <li> <p>Were carbs eaten in the last 3 hours?</p> </li> <li>Are you in open loop?</li> </ol> <p>:::{caution}    Until you understand how the Trio algorithm works, you should only make basal adjustments after basal testing in an open loop.    :::</p> <ol> <li>Is this a one-time event, or does it happen consistently over multiple days?</li> </ol> <p>Make sure it happens twice at the same time of day before making any adjustments.</p>"},{"location":"EN/Analyze/EvaluateBasal/#how-to-adjust-basal","title":"How to Adjust Basal","text":"<p>:::{tip} A general rule of thumb is to adjust the basal rate 1 hour before the cgm shows a change in glucose levels that you want to correct. This is determined by the approximate peak time of rapid-acting insulin. :::</p> <p>For Example: This person noticed an increase in their average cgm readings starting around 1:00 AM. They were in open loop and had no late-night snacks, so they could rule out CR and ISF as factors. Because the rise began at 1:00 AM, they should increase their basal rate at 12:00 AM. <code>{figure} img/adjustBasal.png :alt: Adjust Basal :width: 600px</code></p>"},{"location":"EN/Analyze/EvaluateBasal/#nightscout","title":"Nightscout","text":"<p>Nightscout (NS) is a valuable resource that provides detailed information for analyzing your settings. Nightscout reports and Loopalyzer can be great tools for understanding your data.</p>"},{"location":"EN/Analyze/EvaluateBasal/#build-nightscout","title":"Build Nightscout","text":"<p>Instructions to build Nightscout</p>"},{"location":"EN/Analyze/EvaluateBasal/#using-nightscout-for-basal-adjustments","title":"Using Nightscout for Basal Adjustments","text":"<p>How to use Loopalyzer</p>"},{"location":"EN/Analyze/EvaluateCR/","title":"EvaluateCR","text":""},{"location":"EN/Analyze/EvaluateCR/#evaluate-cr","title":"Evaluate CR","text":"<p>:::{warning} This is not medical advice. It is important to understand your changes and always exercise caution. When in doubt, consult your diabetes care team for settings guidance. :::</p>"},{"location":"EN/Analyze/EvaluateCR/#before-adjusting-cr","title":"Before Adjusting CR","text":"<p>With Trio, there is a reduced requirement for precise carb entries, although some precision will still improve outcomes. Some users prefer overestimating carb entries and giving a smaller percentage of the upfront bolus. Note: If you overestimate the carb entry and bolus for 100% upfront, the algorithm is limited in its ability to only suspend insulin as a means to prevent hypoglycemia following a meal.</p> <p>If you have been giving 100% of the needed bolus for meals, it might be best to try a smaller percentage upfront rather than adjusting your CR.</p>"},{"location":"EN/Analyze/EvaluateCR/#nightscout","title":"Nightscout","text":"<p>Nightscout (NS) is a valuable resource that provides detailed information for analyzing your settings. Nightscout reports and Loopalyzer can be great tools for understanding your data.</p>"},{"location":"EN/Analyze/EvaluateCR/#build-nightscout","title":"Build Nightscout","text":"<p>Instructions to build Nightscout</p>"},{"location":"EN/Analyze/EvaluateCR/#how-to-use-nightscout-for-cr-adjustments","title":"How to Use Nightscout for CR Adjustments","text":"<p>How to use Loopalyzer</p> <p>Nightscout reports can provide crucial information to observe how fast the carbs decay. Open the day-to-day report in Nightscount and check the COB box and IOB box. You will see COB as orange \u201ctriangles.\u201d If they decay too soon (in less than 2 hours or so, depending on the type and size of the meal), the carbs were either underestimated, CR could be too high a number, or ISF could be too low (carb decay is related to the fraction of CR/ISF) If you carbs take too long to decay, your insulin to carb ratio may be too strong. This can get complicated if meals overlap, but it is still possible. You may want to utilize the day-to-day report when that situation occurs.</p> <p>If the carb absorption observed by the algorithm is too slow, COB will eventually be cut down. This presents as a vertical drop in COB in the day-to-day report. This helps avoid overdosing on overestimated or not-eaten carbs or if physical activity delays digestion or mutes the BG rise.</p>"},{"location":"EN/Configuration/Configure/","title":"Device Configuration","text":"<p>This section covers the first two sections of Trio settings: Closed Loop and Devices</p>"},{"location":"EN/Configuration/Configure/#closed-loop","title":"Closed Loop","text":"<p>Closed loop is turned off by default. This means Trio cannot make adjustments autonomously. Until you enable closed loop, the system relies on your approval of its actions.</p>"},{"location":"EN/Configuration/Configure/#when-should-i-close-the-loop","title":"When Should I Close the Loop?","text":"<p>Closed loop allows the system to make insulin adjustments automatically. Your goal for looping is to enable this setting to reduce the time spent managing your diabetes. However, entering closed loop too early can make it difficult for new loopers wanting to optimize their application settings. If this is your first time looping, this setting should remain disabled until your profile settings (CR, ISF, basal rates) are correctly set. You should monitor Trio's predictions and suggestions to see if they are appropriate for you. Please look at the corresponding CR, ISF, and basal rates sections for more information on their adjustment.</p>"},{"location":"EN/Configuration/Configure/#settings","title":"Settings","text":"<p>I've been using Loop. Can I copy my settings?</p> <p>No. Users coming from Loop usually adjust their ISF and CR settings to compensate for fluctuations in insulin needs throughout the day. When using those settings for Trio, the algorithm also adjusts to compensate for the fluctuations, which may result in over- or under-dosing. Please review the steps of monitoring Trio predictions and change your settings accordingly. It would help if you also read the section on Coming from Other AID Systems.</p> <p>Tip</p> <p>Remember that everyone's diabetes is different, and there is no one-size-fits-all, so take the time to optimize your settings for the Oref algorithm.</p>"},{"location":"EN/Configuration/Devices/","title":"Devices","text":"<p>Adding devices to Trio is easy. You can only have one pump and one CGM active simultaneously. If you want to switch to another pump or CGM, delete the current device first. When you select a device, you will be guided through its setup with an on-screen guide.</p>"},{"location":"EN/Configuration/Devices/#pump","title":"Pump","text":"<p>This section asks you to select your insulin delivery system. For more information on supported pumps, you can find them under Compatible Pumps. Omnipod Eros and older Medtronic devices don't support Bluetooth. These devices require a Rileylink, OrangeLink, or EmaLink to translate communication between your phone's Bluetooth signals and the pump's radio communication signals.</p> <p>During pump setup, you will be asked to choose your insulin type. This will determine your duration of insulin action and peak action time. These settings can be changed later, though it is not recommended."},{"location":"EN/Configuration/Devices/#cgm","title":"CGM","text":"<p>This section asks you to choose your glucose data source. Most options are self-explanatory. For more information on supported CGMs, please visit Compatible CGMs.</p>"},{"location":"EN/Configuration/Devices/#changing-transmitter-on-dexcom-g6","title":"Changing transmitter on Dexcom G6","text":"<p>If you are using a Dexcom G6 sensor, you must remember to change your transmitter ID in the Trio app whenever you change transmitters.</p>"},{"location":"EN/Configuration/Devices/#changing-dexcom-g6-or-g7-sensor","title":"Changing Dexcom G6 or G7 sensor","text":"<p>Change the sensor through the Dexcom G6 or G7 app. Trio will automatically pick up the reading; you don't need to do anything else.</p>"},{"location":"EN/Configuration/Devices/#xdrip-as-bg-source","title":"xDrip as BG source","text":"<p>xDrip is not recommended with the Trio app, as native connections to CGM are more stable.</p>"},{"location":"EN/Configuration/Devices/#watch","title":"Watch","text":"<p>This section asks you to add a watch to Trio. Apple Watch and some Garmin watches are compatible. On an Apple Watch, you can add carbs and boluses, set a temporary target, and show BG, IOB, COB, etc. Garmin watches only display data and will not let you interact by adding carbs or insulin.</p>"},{"location":"EN/Configuration/transition-qa/","title":"Transition from other closed-loop solutions","text":"<p>If you've been using other closed-loop solutions, it's essential to understand the differences between the one you're used to and Trio.</p> <p>In this section of the documentation, we'll explain the differences from a user perspective.</p>"},{"location":"EN/Configuration/transition-qa/#coming-from-androidaps","title":"Coming From AndroidAPS","text":"<p>AndroidAPS and Trio are based on the same algorithm (Oref) and base system (Artificial Pancreas System, APS). While there are several differences between AndroidAPS and Trio, the main algorithm is the same,  meaning you can expect Trio to behave the same way AndroidAPS does generally.</p> Benefits of AndroidAPS  * Custom automation * Detailed reporting * Working remote bolus (for caregivers, not working at the moment in Trio) * A built-in learning program  Benefits of Trio  * Trio works on your iPhone and Apple Watch * Trio has dynamic CR support  Should I switch from AndroidAPS to Trio?   - If you have been successful with AndroidAPS but prefer the Apple ecosystem, you can easily transition to Trio.   - If you've struggled to get stable BG with AndroidAPS, you may have the same issues with Trio.   <p>Take some time to read the docs and fine-tune your settings. Once your settings are in order, consider switching to Trio.</p>"},{"location":"EN/Configuration/transition-qa/#coming-from-ios-loop","title":"Coming From iOS Loop","text":"<p>iOS Loop uses different algorithms, meaning it has a different approach than Trio. If you're coming from iOS Loop, you must change how you think. Please read that statement again three times, as it is crucial.</p> Benefits of Loop  * A very clean, minimalistic user interface * A built-in onboarding guide * Simple settings * A dedicated Loop Follow app for caregivers  Benefits of Trio  * Unannounced meals * Less user interaction/correction * Dynamic ISF and CR * Highly customizable temporary profiles * Adaptive algorithm  Should I switch from Loop to Trio?  * If Loop works well for you, you should not switch to Trio. * Switching to Trio will not resolve Loop build issues. The build process is the same for both Loop and Trio. * If you find it difficult to understand how Loop works, Trio is even more complex.  You should consider switching to Trio if you've been using Loop for a while and have issues that Loop can't solve even after tweaking and re-tweaking your settings and profile. <p></p>"},{"location":"EN/Configuration/transition-qa/#common-reasons-users-switch-from-loop-and-how-trio-addresses-them","title":"Common Reasons Users Switch from Loop and How Trio Addresses Them","text":"Incorrect or missing carb entries Trio has a feature called Unannounced Meals (UAM). With this option enabled and properly configured, Trio will react to rising BG by giving insulin through a Super Micro Bolus (SMB) even if no carbohydrates are registered. UAM helps in two scenarios: forgetting to add carbohydrates for a meal and entering carbohydrates but not the correct amount.  Lots of manual corrections and \"fake carbs\" With UAM and SMB active and properly configured, Trio will make any necessary corrections. There is no need to add \"fake carbs\" to make Trio give insulin, as many Loop users are used to.  Persistent highs because of variations in Insulin Sensitivity Factor (ISF) and Insulin-to-Carbohydrate Ratio (CR) Many people with diabetes need more insulin as their BG rises. Because Loop uses constant, pre-set ISF and CR values; it cannot address the unexpected change in sensitivity. With dynamic ISF and dynamic CR enabled and properly configured, Trio will give enough insulin to lower those highs without user interaction. More aggressive settings might lead to a low. With less aggressive settings, it will take Trio some time to get BG back in range. The key is to find the effective balance between conservative and aggressive to meet your needs.  Recurring/Rebound Lows Properly configured, Trio will not give you insulin if you don't need it. A typical issue with Loop is that it stops delivering insulin when BG falls and then gives insulin from the \"negative IOB\" once BG starts rising again. For some users, this is too much insulin and leads to recurring lows. Properly configured, Trio will not overcompensate for the rapid BG rise after a low.  Difficulties dealing with exercise Exercise is good for everyone, including people with diabetes. People with insulin-dependent diabetes often struggle with lows during exercise and highs afterward. Trio has a built-in exercise mode that will reduce basal and ISF whenever you set a higher temporary BG target. Trio also has Profile Presets that can help you get the right amount of insulin during exercise. Profiles can also adjust CR, unlike temporary targets.  Frequent, consistent variations in profile (Basal, ISF, CR) Illness, menstrual cycle, inactive days, active days, home office days, stressful events... In these situations, the overall insulin need differs from your usual need. Like Loop's Overrides, Trio has Profiles that can change basal rate, ISF, CR, and target BG within a pre-set timeframe. What Trio Profiles do that Loop Overrides do not do is provide the option to temporarily disable SMBs and apply adjustments to only basal, basal, and ISF, basal and CR, or all three.  <p>If any of those sound familiar, consider a switch to Trio <p>Important</p> <p>You must read extensively and adapt to a new approach to diabetes management.</p> <p>What's All That Talk About Changing the Way I Think?</p> <p>Loop is carb-centric. Loop users have been instructed to enter carbs, including future carbs (fat, protein), to ensure Loop gives the right amount of insulin. Some users also enter \"fake carbs\" to force Loop to give more insulin.</p> <p>The Trio algorithm does not consider future carbs. What does this mean? The algorithm considers many factors, adds guardrails, and then acts by setting a temporary basal, administering a bolus (SMB), or both. Future carbs are not considered. The algorithm does not care about any future carbohydrates you might have entered.</p> <p>Wait, what!? You have to consider carbohydrates, right? Why else would I add them? Trio considers carbohydrates only once absorbed and part of Carbohydrates On Board (COB).</p>"},{"location":"EN/Configuration/transition-qa/#mealtime-strategy","title":"Mealtime Strategy","text":"So what's the mealtime strategy then? 1. Use the bolus calculator before you eat. Enter carbohydrates (and fat and protein if you want). Look at the recommended bolus and tap the info button if you disagree with it.  2. Change the recommendation if you want to, and then bolus. If the recommendation is way off, you should check your settings. Remember that the recommendation is based on your settings, including the \"Recommended bolus percentage\" setting. 3. Depending on your insulin type and sensitivity, you should consider doing this some minutes before eating. You do not need to adjust the carbohydrate timestamp to the actual time you plan to eat; you can keep it when you announce the meal and pre-bolus. 4. Enjoy your meal. In most cases, Trio will set a temporary low/zero basal. 5. If Trio detects BG is rising faster or more than expected, it will give more insulin (SMB) depending on the settings. 6. If Trio detects BG falling, a low/zero temporary basal will continue. 7. If you think Trio is not giving enough or too much insulin, you should look at your settings, including MAX IOB and all SMB-related settings.  Does everyone do it like that? No What are the alternatives? - Some Trio users don't bolus for meals. They wait for Trio to detect rising BG and let Trio handle it. This usually leads to a temporary high BG, but Trio will get you back to target with the correct settings. If you're OK with a temporary high, then go ahead and try to skip bolus. You can start with small meals and tune your settings. You will need aggressive settings to let Trio give enough insulin. - Some Trio users do a manual pre-bolus and skip entering carbs. Trio will predict a low BG until the meal kicks in and BG begins rising. If the pre-bolus is insufficient, Trio will give more insulin based on your settings. Yes, even without entering any carbohydrates. This approach will also result in a temporary high that is shorter than the completely unattended approach. What do most people do? Most Trio users take a bit of all these approaches. They have an apple without entering anything into the app. Then, they pre-bolus for lunch because it is high in carbohydrates. Then, they use the calculator for dinner. This is all OK, and it comes down to the variation you accept for your BG."},{"location":"EN/Configuration/transition-qa/#coming-from-iaps","title":"Coming From iAPS","text":""},{"location":"EN/Configuration/transition-qa/#iaps-ver-233-or-earlier","title":"iAPS Ver 2.3.3 or Earlier","text":"<p>Transitioning from iAPS 2.3.3 to Trio is currently straightforward. The screens and menus will be very familiar.</p>"},{"location":"EN/Configuration/transition-qa/#settings","title":"Settings","text":"<p>Your settings will need to be entered manually, but they can all be entered one-by-one from your iAPS settings without adjustment. If you have Nightscout, you can import your Pump Settings, Basal Profile, ISF, CR, Target Glucose, and previous CGM readings from the Nightscout Menu.</p> <p>Import Settings With Nightscout  1. Connect Nightscout to your Trio app (If you've already connected your Nightscout site, skip to step 2)     * Open the Settings Menu \u2699\ufe0f in the Trio app     * Tap <code>Nightscout</code> to open the Nightscout Menu     * Tap <code>Connect &gt;</code>     * Enter your Nightscout URL and API Secret in the spaces provided     * Press <code>Connect to Nightscout</code>  2. Verify the <code>Glucose Units</code> in the Trio app match the units used in Nightscout (If they do not match, the import will fail)     * Open the Settings Menu \u2699\ufe0f in the Trio app     * Tap <code>Preferences</code> to open the Preferences Menu     * Verify the <code>Glucose Units</code> are correct  4. Import settings     * Open the Settings Menu \u2699\ufe0f in the Trio app     * Tap <code>Nightscout</code> to open the Nightscout Menu     * Tap <code>Import settings</code>  5. Backfill Glucose     * In the same Nightscout Menu, you can also backfill missing glucose readings from Nightscout </p> <p>Dynamic Settings</p> <p>Because Trio is a separate app, your historical data from iAPS will not transfer. It is recommended that you wait 7 days before you enable dynamic settings. In the meantime, you may notice some adjustments made by autosens.</p>"},{"location":"EN/Configuration/transition-qa/#iaps-ver-30-or-later","title":"iAPS ver 3.0 or Later","text":""},{"location":"EN/Configuration/transition-qa/#settings_1","title":"Settings","text":"<p>As with iAPS ver 2.3.3, your settings must be entered manually and/or transferred from Nightscout. It is also recommended that you wait 7 days before enabling dynamic settings. In the meantime, you may notice some adjustments made by autosens.</p>"},{"location":"EN/Configuration/transition-qa/#other-differences","title":"Other Differences","text":"<p>Trio was forked from iAPS ver 2.3.3. If you used iAPS prior to February 2024, you may recognize the main screen. As the Trio app develops, the screen and menus will diverge substantially from iAPS 2.3.3 and 3.0+. For now, the focus has been on the code behind the scenes. For a comprehensive list of all changes and updates made to create Trio, please view the PR that merged all the foundational, developmental work into the main version used today.</p>"},{"location":"EN/Configuration/transition-qa/#coming-from-commercial-closed-loop-systems","title":"Coming From Commercial Closed-Loop Systems","text":"<p>Are you using a commercial closed-loop system like Insulet's Omnipod 5, Tandem's Control IQ, Medtronic's 780G, etc.? If you're happy, please stay; if you're not getting the desired results, take the time to read through the Coming From iOS Loop chapter to see the main issues Trio solves.</p> <p>I Want to Try Trio. How Do I Proceed?</p> <ul> <li>Read the documentation. </li> <li>Build the app. </li> <li>Go through all the settings and tap the setting name to get an explanation of what each setting does.</li> </ul> <p>If you have any questions, feel free to reach out on Discord or Facebook. But please read the docs first.</p>"},{"location":"EN/Configuration/transition-qa/#watch-the-loop-and-learn-videos-on-trio-previously-referred-to-as-iaps","title":"Watch the Loop and Learn Videos on Trio (Previously Referred to as \"iAPS\"):","text":"<ul> <li>Open Mic: iAPS ver 2.0 with Magnus Reintz &amp; Theresa Hastings, 8.3.2023</li> <li>iAPS ver 2.0 with Magnus Reintz &amp; Theresa Hastings: Starting Trio, 8.17.2023</li> <li>iAPS ver 2.0 Q&amp;A with Magnus Reintz, Tom Barrows, Jonas Hummelstrand &amp; Theresa Hastings, 30 August 2023</li> </ul>"},{"location":"EN/Getting-Started/Overview/","title":"Overview","text":""},{"location":"EN/Getting-Started/Overview/#what-is-trio","title":"What is Trio?","text":"<p>Trio is an open-source artificial pancreas system based on the OpenAPS (Oref0) algorithm. Using your entered settings, carbohydrates, and historical data, it aims to automate insulin delivery to reduce the time spent managing your diabetes. Before starting with Trio, you should consider alternative commercial options such as the Tandem Control-IQ and Omnipod 5 or other open-source applications like Loop and AndroidAPS. </p> <p>Important</p> <p>Trio is not approved by any healthcare authority. You build and run this system at your own risk.</p>"},{"location":"EN/Getting-Started/Overview/#getting-started","title":"Getting Started","text":"<p>Before starting with Trio, you should understand CR, ISF, and Basal Rates.</p> <p>If you do not understand the terminology, please read the appropriate documentation here:</p> <p>Carb Ratio (CR)</p> <p>Insulin Sensitivity Factor (ISF)</p> <p>Basal Rates </p> <p>If you require help defining and determining those settings, please seek assistance from your diabetes healthcare team.</p> <p>To use Trio, you are required to build the application from the source code. This does not require substantial technical know-how but is a time-consuming process. You may need to carry this out through several sessions on your first attempt.</p> <p>Upon installation, you will need to configure your settings appropriately. For step-by-step instructions on using the app, follow the start-up guide. </p> <p>Ready to Get Started? Head to the New User Guide to get started!</p>"},{"location":"EN/Getting-Started/cgm/","title":"CGM","text":"<p>This section allows you to choose your glucose data source. Most options are self-explanatory.  For more information on compatible CGMs, please see the following: link</p> <p>CGM selection includes the following: * Nightscout * xDrip * Dexcom G5/Dexcom G6/Dexcom ONE * Dexcom G7/Dexcom ONE+ * Glucose Simulator * Libre Transmitter * Glucose Direct * Medtronic Enlite</p>"},{"location":"EN/Getting-Started/cgm/#nightscout","title":"Nightscout","text":"<p>While using Nightscout as a CGM is an option, it should be avoided if possible because it does not keep Trio running in the background like other CGM options.</p>"},{"location":"EN/Getting-Started/cgm/#xdrip-xdrip4ios","title":"xDrip (xDrip4iOS)","text":"<p>To use xDrip4iOS as a cgm source, you must build it yourself with the same Apple Developer account you used to build your Trio app. You cannot use Shuggah or a version distributed by someone else's TestFlight. Please see the following for instructions on how to build xDrip4iOS yourself: link</p> <p>However, if you are using Dexcom G6 or ONE with xDrip4iOS, you can choose the Dexcom G6 option in Trio rather than xDrip4iOS, and Trio will intercept the glucose readings even if you're using Shuggah or someone else's TestFlight of xDrip4iOS.</p>"},{"location":"EN/Getting-Started/cgm/#dexcom-g5-g6-and-dexcom-one","title":"Dexcom G5, G6 and Dexcom ONE","text":"<p>Trio can intercept glucose readings between the transmitter and the Dexcom app. If you are using a Dexcom G5, G6, or ONE sensor, tap Configuration CGM to enter your transmitter's 6-digit ID. Dexcom Share Credentials are not necessary. When you switch transmitters, you must delete your current transmitter from Trio by tapping Configuration CGM, scrolling down, and tapping Delete CGM. Once you do this, you can add the new transmitter with its Transmitter ID.</p>"},{"location":"EN/Getting-Started/cgm/#dexcom-g7-and-dexcom-one","title":"Dexcom G7 and Dexcom ONE+","text":"<p>As long as the Dexcom G7 or ONE+ app is installed on the same phone, Trio can intercept its glucose readings. When a new G7 or ONE+ sensor is paired to the Dexcom app, Trio will automatically start reading it.</p>"},{"location":"EN/Getting-Started/cgm/#glucose-simulator","title":"Glucose Simulator","text":"<p>This option should only be used when learning how to interact with the app. It should not be used to learn how the algorithm will respond, nor should it ever be used on a living being.</p>"},{"location":"EN/Getting-Started/cgm/#libre-transmitter","title":"Libre Transmitter","text":"<p>This option can be used to pair a compatible Libre cgm directly to Trio without going through a separate app like xDrip4iOS or Glucose Direct.</p>"},{"location":"EN/Getting-Started/cgm/#glucose-direct","title":"Glucose Direct","text":"<p>Until the providers of Glucose Direct add a Trio App Group to Glucose Direct, you cannot use this app with Trio. If that happens, then you must build it yourself with the same Apple Developer account you used to build your Trio app. You cannot use a version distributed by someone else's TestFlight.</p>"},{"location":"EN/Getting-Started/cgm/#medtronic-enlite","title":"Medtronic Enlite","text":"<p>The Minimed Enlite CGM, available with the Medtronic 522/722, 523/723, and 554/754, wirelessly sends glucose readings to the pump. Trio can read the Medtronic CGM data directly from the pump using a RileyLink-compatible device.</p>"},{"location":"EN/Getting-Started/iphone/","title":"iPhones & Watches","text":""},{"location":"EN/Getting-Started/iphone/#compatible-devices","title":"Compatible Devices","text":"<p>Trio requires a relatively recent iPhone. The faster the phone, the better for the algorithm and battery life. You need a minimum version of the mobile operating software, called the phone's \"iOS\", to be installed on your iPhone. Trio is compatible with iPhones running on iOS 16 or newer.</p>"},{"location":"EN/Getting-Started/iphone/#iphone","title":"iPhone","text":"<p>These devices are compatible with iOS 16 and newer iOS.</p> <ul> <li>iPhone 15, all variants</li> <li>iPhone 14, all variants</li> <li>iPhone 13, all variants</li> <li>iPhone 12, all variants</li> <li>iPhone 11, all variants</li> <li>iPhone X, all variants</li> <li>iPhone 8, all variants</li> <li>iPhone SE (3<sup>rd</sup> generation; 2022 first release)</li> <li>iPhone SE (2<sup>nd</sup> generation; 2020 first release)</li> </ul>"},{"location":"EN/Getting-Started/iphone/#ios-version-and-developer-mode","title":"iOS Version and Developer Mode","text":"<p>Find Your iOS Version</p> <p>Your phone's iOS version can be found under the phone Settings -&gt; General -&gt; About display. The iOS number is found on the <code>Software Version</code> line. When you start looping, you should delay iOS updates until others have confirmed the software functions as normal on the newest update.</p> <p>Warning</p> <p>Using iOS Beta versions on the iPhone used for insulin delivery is never recommended.</p> <p>Developer Mode - Mac Build</p> <p>With iOS 16 and watchOS 9, Apple added a feature called \"Developer Mode.\" This feature must be enabled on your iPhone and Apple Watch to allow the installation of Trio. To learn more, click on this link: Apple Link about Developer Mode.</p> <p>When you build Trio on your phone from Xcode directly, you must enable Developer Mode. This is also required in order to use the Trio app on a watch paired to your phone.</p> <p>Developer Mode with iOS 16, watchOS 9</p> <p>If you already have Trio, built with Xcode on a Mac, on your phone/watch, when you update to iOS 16/watchOS 9, you will be told that Trio requires Developer Mode to run.</p> <p>You cannot run Trio on your phone (or watch) until you have enabled Developer Mode on the device(s).</p>"},{"location":"EN/Getting-Started/iphone/#automatic-updates","title":"Automatic Updates","text":"<p>Apple provides frequent updates to the iOS. These updates often include critical security patches and improved new features. Updates to iOS could make Trio stop working. Minor updates (like 16.5 -&gt; 16.5.1) are usually not an issue. Major updates (like 17.x -&gt; 18.x) often contain changes that Trio developers need to include in the app.</p> <p>Turn Off Automatic Update Installs!</p> <ul> <li>Once you accept an iOS update, you cannot go backward</li> <li>Some iOS updates require updates to Xcode and macOS before people can build Trio on that device again</li> <li>It is rare, but iOS updates have caused Trio to stop working until other updates were made and Trio was rebuilt on that phone</li> <li>Turn off automatic updates so you can choose when to update your phone and avoid being caught without a working Trio app</li> <li>Google the instructions for your device:     1) Configure your phone to download the updates automatically       2) Choose to perform the installation of the updates manually</li> </ul>"},{"location":"EN/Getting-Started/iphone/#battery-health","title":"Battery Health","text":"<p>Make sure your phone's battery is functioning optimally. Your phone will become a critical health device, and you want it to keep working.</p> <ul> <li>Make sure a charger and cord are in your diabetes supplies</li> <li>Consider buying a battery pack, keep it charged, and add it to your travel bag</li> </ul> <p>Low Power Mode</p> <p>Some people have reported that Trio continues working in the background (phone locked) even in Low Power Mode. Others have reported that they still get red loops. You can experiment to determine if your phone/iOS/app is able to maintain green loops in low-power mode. Otherwise, the best practice is to avoid Low-Power Mode.</p>"},{"location":"EN/Getting-Started/iphone/#apple-watch","title":"Apple Watch","text":"<p>Trio has a companion app for the Apple Watch. The companion app shows the loop status and current insulin and carbs onboard. It also lets you add carbs, do a manual bolus, and set a temporary target. However, the companion app only serves as a remote control for the iPhone app; connection to the CGM and pump is still done through your iPhone, and you will have to bring it with you.</p> <p>Apple Watch Series 3 and newer are supported. Newer versions of the Apple Watch have better battery life and support always-on display.</p>"},{"location":"EN/Getting-Started/pump/","title":"Pumps","text":""},{"location":"EN/Getting-Started/pump/#compatible-pumps","title":"Compatible Pumps","text":"<p>There are three pumps compatible with Trio:</p> <ul> <li>Omnipod Dash pumps</li> <li>Omnipod Eros pumps</li> <li>Older Medtronic pumps</li> <li>DanaRS (Coming Soon!)</li> </ul> <p>No other pumps work with Trio at this time, but other open-source closed-loop options, such as AAPS: Android Artificial Pancreas System and OpenAPS, support other pumps.</p>"},{"location":"EN/Getting-Started/pump/#omnipod-pumps","title":"Omnipod Pumps","text":"<p>Reminder and Disclaimer</p> <p>The use of Omnipod pumps with Trio is not supported by Insulet, although they are aware it is happening. Do not call Insulet asking for help with your Trio build, setup, or operation. You are fully responsible for your use of Trio and do so at your own risk. Please read these documents and familiarize yourself with Trio before using the app.</p>"},{"location":"EN/Getting-Started/pump/#omnipod-eros","title":"Omnipod Eros","text":"<p>Eros pods were launched in 2013 and continue to be sold by Insulet. As of December 2023, they are no longer available in the US but are obtainable in other countries for now. Eros pods are also referred to as \"Omnipod System\", \"Omnipod Classic\", or \"Gen3\". The Eros uses radio waves for communication between the Pod and the PDM. The iPhone does not support these radio waves, so in order to use Eros with Trio, you need to get a separate device that can translate radio waves to Bluetooth. These devices are called RileyLink, EmaLink, etc.</p> <p></p>"},{"location":"EN/Getting-Started/pump/#omnipod-dash","title":"Omnipod DASH","text":"<p>The DASH pods were launched in 2019 and use Bluetooth, so they don't require a RileyLink or similar device as they connect directly to the phone. DASH pods are easy to identify with their blue tab instead of the clear tab used on Eros and Omnipod 5.</p> <p></p> <p>Omnipod 5</p> <p>Omnipod 5 pods are NOT compatible with Trio</p>"},{"location":"EN/Getting-Started/pump/#medtronic-pumps","title":"Medtronic Pumps","text":"<p> {align=center})</p> <p>There are a number of Medtronic insulin pumps manufactured between 2006 \u2013 2012 which are Trio compatible.  Compatibility has two requirements: (1) pump model and (2) firmware.</p> <ul> <li>Medtronic 515 or 715 (any firmware)</li> <li>Medtronic 522 or 722 (any firmware)</li> <li>Medtronic 523 or 723 (firmware 2.4 or lower)</li> <li>Medtronic Worldwide Veo 554 or 754 (firmware 2.6A or lower)</li> <li>Medtronic Canadian/Australian Veo 554 or 754 (firmware 2.7A or lower)</li> </ul> <p>If you have one of the pumps listed above, you are good to go on Trio! Congrats!</p>"},{"location":"EN/Getting-Started/pump/#medtronic-pump-model","title":"Medtronic Pump Model","text":"<p>To determine your pump model, look at the backside of your pump.  There should be a sticker on the underside of the pump.  On the right-hand side of the sticker, it says REF MMT-XXXXXX</p> <p></p> <pre><code>* MMT ---&gt; Pump Manufacturer Model (MiniMed Medtronic)\n* 722 ---&gt; Pump Model Number\n* NA ---&gt; Pump Region (NA=North America, CA=Canada/Australia, WW=Worldwide)\n* S ---&gt; Pump Color (S=Smoke, L=Clear/Lucite, B=Blue, P=Pink/Purple)\n</code></pre> <p>Some pumps may have an \u201cL\u201d or \u201cS\u201d or \"R\" before the pump region, e.g., a model number like MMT-722LNAS.  This does not affect Trio compatibility.</p>"},{"location":"EN/Getting-Started/pump/#medtronic-pump-firmware","title":"Medtronic Pump Firmware","text":"<p>A pump\u2019s firmware is the internal software that runs your pump.  Older Medtronic firmware allows Trio to act as a \u201cremote control\u201d to set temp basals and report back pump data.  Newer firmware has disabled that \u201cremote control\u201d access and, therefore, cannot be used with these DIY closed-loop systems.  There is currently no ability to downgrade a pump\u2019s firmware or replace it with older firmware.  Before you buy a used pump, make sure you are getting one with compatible firmware. You cannot change the firmware on a Medtronic pump.</p> <p>The firmware on all 515/715 and 522/722 model Medtronic pumps is compatible with Trio. You will only need to check the firmware version for 523/723 and 554/754 model Medtronic pumps.</p> <ul> <li>Medtronic 515 or 715 (any firmware)</li> <li>Medtronic 522 or 722 (any firmware)</li> <li>Medtronic 523 or 723 (firmware 2.4 or lower)</li> <li>Medtronic Worldwide Veo 554 or 754 (firmware 2.6A or lower)</li> <li>Medtronic Canadian/Australian Veo 554 or 754 (firmware 2.7A or lower)</li> </ul> <p>To find your pump\u2019s firmware, you will need to power it on. If the pump has not been powered on for some time (i.e., it has been in storage without a battery for a while), it will run through a start-up count, and the firmware version will appear on the bottom right of the pump\u2019s screen.  Don\u2019t turn away, as the version number will only be displayed for a little while before the screen moves on to other information displays.  </p> <p>If the pump has been active recently or has a reservoir installed, follow these steps:</p> <ol> <li> <p>Press the  button on your pump.  </p> </li> <li> <p>Scroll down to the bottom of the status display by clicking the  button.  </p> </li> <li> <p>Read the bottom line of the display.</p> </li> </ol> <p></p>"},{"location":"EN/Getting-Started/pump/#medtronic-pump-differences","title":"Medtronic Pump Differences","text":"<p>If you are in the position of being able to shop around for different pump models, there are some slight differences between the Trio-compatible Medtronic pumps.</p> <p>500 vs 700: The difference between the Medtronic 500 series and the 700 series pumps is the size of the insulin reservoirs.  The 500 series pumps use a 180-unit reservoir, and the 700 series pumps use a 300-unit reservoir (or a smaller 180-unit reservoir, if you want).</p> <p>x15/x22 vs x23/x54: The noteworthy differences between the x15 and x22 pumps versus the x23 and x54 series pumps are:</p> <ul> <li>The x23/x54 pumps will allow for smaller insulin deliveries in certain situations if the smaller scroll rate is selected in the Bolus&gt;Setup&gt;Scroll Rate menu.  Trio will have the insulin delivery automatically rounded by the pump to the units available in the pump model, and any smaller adjustments (to make up for the rounding) will be made through Trio\u2019s use of temp basals.  If you want the smaller increments of basal rates, you can still enter those values in the Trio app's settings and Trio will use those values for the purposes of insulin delivery calculations.</li> </ul> Pump Model Basal increments Bolus increments Range 515/715and522/722 0.050.1 0.10.1 deliveries of less than 10 unitsgreater than 10 units 523/723and554/754 0.0250.050.1 0.025 0.05 0.1 between 0.025 to 0.975 unitsbetween 1 to 9.95 unitsgreater than 10 units <ul> <li> <p>Additionally, because of the way Trio fetches information from the pump, the x23/x54 series of pumps are slightly better at conserving battery life through the use of the MySentry packets to collect information from the pump.  x22 pumps do not use MySentry.</p> </li> <li> <p>The x23/x54 series pumps are also faster at delivering boluses greater than 10 units.  On an x23 pump, a 13-unit bolus takes 5:00 minutes to complete.  On an x22 pump, a 13-unit bolus takes 8:40 minutes to complete.</p> </li> </ul>"},{"location":"EN/Getting-Started/pump/#finding-a-medtronic-pump","title":"Finding a Medtronic Pump","text":"<p>Finding a compatible Medtronic pump is probably the most difficult part for most new Trio users. Our suggestions:</p> <ul> <li> <p>Talk to friends in the diabetic community.</p> </li> <li> <p>Ask your endocrinologist.  </p> </li> <li> <p>Ask at a local JDRF chapter meeting if someone has an old backup pump they'd be willing to donate to you.  </p> </li> <li> <p>Join diabetic supply groups on Facebook, both for-trade and for-sale groups. Looping in a time of COVID is a group focused on DIY looping devices and supplies. Be sure to read their rules before joining.</p> </li> <li> <p>Check Craigslist often and be willing to expand your search area to include larger cities.</p> </li> <li> <p>Check out the HelpAround, NextDoor, OfferUp, and LetGo apps for pumps.</p> </li> </ul> <p>The most successful results appear to come from either one-on-one discussions with fellow diabetics/doctors or the use of apps (Craigslist, NextDoor, LetGo, HelpAround).  If you are using Craigslist, you may use an app on your iPhone to make the searching easier. There are apps to search multiple cities for pre-set keywords and set up alerts.</p>"},{"location":"EN/Getting-Started/pump/#safe-purchasing","title":"Safe Purchasing","text":"<p>If you choose to purchase from a remote or unknown seller, here are some tips for safe purchasing:</p> <ul> <li> <p>Use PayPal and purchase using the \"Goods and Services\" payment option. This costs nothing for the buyer, but the seller will lose 2.95% of the sale to PayPal fees. PayPal offers some protection for both buyer and seller in the event of fraud.  </p> </li> <li> <p>Ask for photos of the pump. Check the serial number on the backside of the pump and verify it matches the pump's serial number shown in the display menu. Ask for a short video of the pump or at least a photo of the pump turned on so that you can see the pump's firmware and model number. Cracks and some wear on these pumps are expected. These pumps are not usually free of marks. Many people are successfully looping on pumps with cracks and rub marks, but you may want to ask if you are concerned about any you see in photos.</p> </li> <li> <p>Beware if the bottom of the reservoir/motor sleeve has the drive support cap pushed out, as shown here. Those pumps will generally not work (or only work intermittently); however, some people have successfully repaired those pumps, as shown in that link. Just to make sure you know, it should be checked in advance.</p> </li> <li> <p>Repairs to cracks or missing bits of plastic on battery cap area and reservoir caps are possible and not very difficult in most situations. You can read more about how to repair those here.</p> </li> <li> <p>Ask for shipping that includes a tracking number. USPS Priority Mail's smallest box is a great option.  It's only $10.40 domestically in the US and provides tracking. Ask the seller to add some packing protection around the pump, such as bubble wrap, to keep it safe during shipping. Ensure you get a tracking number within a reasonable period after you have paid.  </p> </li> </ul> <p>Red flags that may indicate a scam:</p> <ul> <li> <p>Asking for payment through \"friends and family\" on PayPal, especially if you don't know the person or have any solid references for them. Paying in that way offers you no buyer protection. It's just like giving the seller cash, so you had better trust the seller.  </p> </li> <li> <p>Offering an \"almost new\" pump is a big red flag. These pumps were manufactured between 2006-2012. It is highly unlikely that a pump of that age is unused and sitting in shrink wrap. There are some out there, but they are scarce.  </p> </li> <li> <p>The seller is not able to provide new pictures of the pump when requested. Sure, they posted some photos with the ad, but what if they downloaded them from other people's ads? The seller should be able to furnish a couple of \"new\" photos at your request. A good one to ask for is the battery and reservoir tops so you can see their condition.</p> </li> </ul>"},{"location":"EN/Getting-Started/pump/#pump-supplies","title":"Pump Supplies","text":"<p>Medtronic will not typically sell pump supplies directly to customers who have yet to purchase a registered Medtronic pump. Ask your insurance about purchasing pump supplies through a durable medical equipment (DME) provider. Typically, the DME provider will coordinate with your insurance and doctor's office to get the necessary insurance approval and prescriptions for the supplies. If you are brand new to Medtronic infusion sites, ask for help from friends to try a variety of infusion sets before purchasing an entire 90-day supply of any type in particular.</p>"},{"location":"EN/Setup/New-User-Setup/","title":"New User Setup","text":"<p>Welcome to the New User Setup Guide! This guide walks you through how to set up your Trio app once you have installed it on your phone. If you still need to install the app, head to the Build Instructions and come back here when you are ready to start the setup process!</p> <p>To set up your Trio app, touch the settings icon \u2699\ufe0f located on the bottom right of the main screen. Each step contains links to information on setting up each part of your Trio app. Use this as your home base to refer back to as you set up your app.</p>"},{"location":"EN/Setup/New-User-Setup/#step-1-connect-your-devices","title":"Step 1: Connect your Devices","text":"<p>The first step in setting up your Trio app is to connect your devices to the app. </p>"},{"location":"EN/Setup/New-User-Setup/#verify-compatibility","title":"Verify Compatibility","text":"<p>If you have not already, please verify that your devices are compatible:</p> <ol> <li>Phones/Watches</li> <li>Pumps</li> <li>CGMs</li> </ol>"},{"location":"EN/Setup/New-User-Setup/#connect-devices","title":"Connect Devices","text":"<p>Once you have verified that you are using compatible devices, you can connect them in the Trio app settings menu.</p> <p></p> <ol> <li>Pump</li> <li>CGM</li> <li>Watch (optional)</li> </ol>"},{"location":"EN/Setup/New-User-Setup/#step-2-add-profile-settings","title":"Step 2: Add Profile Settings","text":"<p>The next step is to enter your main profile settings: Basal, ISF, CR, and Target Glucose.</p> <p>Important</p> <p>If you use mg/dL, you must first change the 'Glucose Units' before entering your profile settings.</p> <p>This is found in the Trio Settings menu under 'Preferences'</p> <ol> <li>Basal</li> <li>Insulin Sensitivity Factor (ISF)</li> <li>Carb Ratio (CR)</li> <li>Set Target Glucose</li> </ol>"},{"location":"EN/Setup/New-User-Setup/#step-3-adjust-safety-limits","title":"Step 3: Adjust Safety Limits","text":"<p>The next step is to adjust the standard safety limits that will allow Trio to function effectively. There are many more settings that are not mentioned in this section. It is not advised to adjust those until you have familiarized yourself with the system by using it for a while.</p> <p>Warning</p> <p>DO NOT ENABLE DYNAMIC SETTINGS YET</p> <p>It is essential that Trio have enough data to make sound recommendations. It is essential that your settings are tuned to be used in an Oref algorithm and you feel comfortable using the Trio app. It is not recommended to enable dynamic settings until ALL criteria below are met:</p> <ul> <li>You are confident that your ISF, CR, and Basal Rates are tuned for use in the Oref algorithm</li> <li>You have used Trio with a real CGM and real pump (not simulators) for the recommended minimum of 7 consecutive days</li> <li>You are comfortable with the Trio app</li> </ul> <ol> <li>Recommended Bolus Percentage</li> <li>Max IOB</li> <li>Max COB</li> <li>Bolus Increment</li> <li>Enable SMB</li> <li>Enable UAM</li> <li>HANDS OFF DYNAMIC SETTINGS!</li> </ol>"},{"location":"EN/Setup/New-User-Setup/#step-4-enable-closed-loop","title":"Step 4: Enable Closed Loop","text":"<p>Closed loop functionality is turned off by default. This means Trio cannot make adjustments automatically. The system relies solely on you to make any recommended adjustments while Closed Loop is OFF. You can control your pump and bolus with the Trio app, but nothing can be done without your approval. This is often referred to as running an 'open loop.'</p> <p></p> <p>More on closing the loop</p>"},{"location":"EN/Setup/New-User-Setup/#step-5-change-app-icon-optional","title":"Step 5: Change App Icon (Optional)","text":"<p>Under \"App Icons\" in the Settings Menu, you can find various icons for your Trio app.</p> <p></p> <p>Have a special icon in mind? You can use your own custom icon by following the instructions under Customizations.</p> <p>Congratulations! You've completed the New User Setup for Trio!</p>"},{"location":"EN/operate/build/","title":"Build and Update","text":"<p>Jump to... Build with GitHub | Mac-Xcode | Script Update with GitHub | Mac-Xcode Special Section on Trio App Group Special Section on Trio App Group</p>"},{"location":"EN/operate/build/#build-trio-with-github","title":"Build Trio with GitHub","text":"<p>The Trio repository contains instructions for building the Trio app using a browser and GitHub. More detailed instructions are also available in LoopDocs.</p> <ul> <li>GitHub Build Instructions</li> <li>LoopDocs: GitHub Build Overview</li> <li>LoopDocs: GitHub Build Other Apps</li> </ul> <p>Tip</p> <p>If using the LoopDocs instructions you need the important information below to build Trio instead of Loop</p> <p>Every app you build will use the same 6 Secrets.</p> <ul> <li>Fork from: https://github.com/nightscout/Trio</li> <li>Identifiers for Trio: see Table of Identifiers</li> <li>You use the <code>Trio App Group</code> for Trio, see Create the <code>Trio App Group</code></li> <li>Add the <code>Trio App Group</code> to these identifiers:<ul> <li><code>Trio</code></li> <li><code>Trio Watch</code></li> <li><code>Trio WatchKit Extension</code></li> </ul> </li> <li>In <code>App Store Connect</code>, the <code>Bundle ID</code> for Trio will be: <code>org.nightscout.TEAMID.trio</code></li> </ul>"},{"location":"EN/operate/build/#create-the-trio-app-group","title":"Create the <code>Trio App Group</code>","text":"<p>If you already have a <code>Trio App Group</code></p> <ul> <li>You can skip this step - your existing App Groups are found at this link: App Group List</li> <li>If your <code>Trio App Group</code> was created from a Mac with Xcode, you may choose to edit the Description to make the NAME match</li> </ul> <p>If you do not have a <code>Trio App Group</code>:</p> <ul> <li>Go to Register an App Group on the Apple developer site and use the table below to help you create one.</li> </ul> NAME Xcode version (NAME) IDENTIFIER Trio App Group group org nightscout TEAMID trio trio-app-group group.org.nightscout.TEAMID.trio.trio-app-group"},{"location":"EN/operate/build/#table-of-identifiers","title":"Table of Identifiers","text":"<ul> <li>If you built previously using a Mac with Xcode, you may see the Xcode version in your NAME column - it starts with XC and then the IDENTIFIER is appended where the <code>.</code> is replaced with a space, the example for Trio is shown in detail</li> <li>If you built during early beta testing, you might not have <code>Trio</code> at the beginning of each IDENTIFIER and the full NAME may be slightly different</li> <li>Optional: You can click on a given row, and edit the Description to match the NAME from the table below. This might make building easier in the future</li> </ul> NAME Xcode version (NAME) IDENTIFIER Trio XC org nightscout TEAMID trio org.nightscout.TEAMID.trio Trio LiveActivity - org.nightscout.TEAMID.trio.LiveActivity Trio Watch XC IDENTIFIER org.nightscout.TEAMID.trio.watchkitapp Trio WatchKit Extension XC IDENTIFIER org.nightscout.TEAMID.trio.watchkitapp.watchkitextension"},{"location":"EN/operate/build/#add-trio-app-group-to-identifiers","title":"Add Trio App Group to Identifiers","text":"<p>Open the App IDs Identifier page for your Apple Developer Account.</p> <p>Click on the <code>Trio</code> Identifier and assign the <code>Trio App Group</code> to the Identifier - see graphic below.</p> <p></p> <p>Repeat this for the other 2 identifiers that need to have an App Group assigned: <code>Trio Watch</code> and <code>Trio WatchKit Extension</code></p>"},{"location":"EN/operate/build/#configure-trio-app","title":"Configure Trio App","text":"<p>Follow the directions in LoopDocs, but use the Trio <code>Bundle ID</code></p> <ul> <li>In <code>App Store Connect</code>, the <code>Bundle ID</code> for Trio will be: <code>org.nightscout.TEAMID.trio</code></li> </ul>"},{"location":"EN/operate/build/#create-certificates","title":"Create Certificates","text":"<p>Follow the directions in LoopDocs but run the <code>Create Certificates</code> action for the Trio fork.</p>"},{"location":"EN/operate/build/#build-trio","title":"Build Trio","text":"<p>Follow the directions in LoopDocs but run the <code>Build Trio</code> action for the Trio fork.</p>"},{"location":"EN/operate/build/#optional","title":"Optional","text":""},{"location":"EN/operate/build/#one-time-update-to-display-branch-and-commit-in-testflight","title":"One-Time Update to Display Branch And Commit in Testflight","text":"<p>The Trio build can be configured to display the branch name and commit ID as test notes in TestFlight. This is an optional step, which can be especially useful if building the <code>dev</code> branch.</p> <p>First, you must have already built Trio and have it available on Apple App Store Connect.</p> <ul> <li>Tap on the <code>TestFlight</code> tab</li> <li>Choose any build to open a new detailed screen for that build</li> <li>In the <code>Test Details</code> section, type anything you want</li> </ul> <p>After you have done this one-time step, each successive build will include the branch name and commit automatically.</p> <p>You can add additional tests notes for any build if you desire.</p> <p>Top of Page</p>"},{"location":"EN/operate/build/#update-trio-with-github","title":"Update Trio with GitHub","text":"<p>First, make sure any Apple License agreements have been accepted:</p> <ul> <li>Apple Developer Page</li> </ul> <p>Second, make sure you have a valid Distributor certificate; if not, see Distribution Certificate:</p> <ul> <li>Apple Certificate Page</li> </ul>"},{"location":"EN/operate/build/#one-time-update-for-trio-app-group","title":"One-time Update for Trio App Group","text":"<p>If you built previously, before the App Group changed from <code>Loop</code> to <code>Trio</code>, you need to do this step. Then you can Continue Updating.</p> <ul> <li>Create the <code>Trio App Group</code></li> <li>Examine the Table of Identifiers - it is optional, but editing the descriptions to match the Names in that table will make following directions easier in the future</li> <li>Update the App Group to be the <code>Trio App Group</code> for the Identifiers (Trio, Trio Watch and Trio Watchkit Extension)</li> <li>Run the Action: 3. Create Certificates to make certificate which go with the new <code>Trio App Group</code></li> </ul>"},{"location":"EN/operate/build/#continue-updating","title":"Continue Updating","text":"<p>Open your fork at <code>github.com/YOUR-USERNAME/Trio</code> with your GitHub username instead of <code>YOUR-USERNAME</code></p> <ul> <li>Look to see if your fork is up to date</li> <li>If your fork shows that your branch is behind, sync the branch to get the latest updates</li> </ul>"},{"location":"EN/operate/build/#distribution-certificate","title":"Distribution Certificate","text":"<p>When you first build using GitHub, a Distribution Certificate is generated. It typically is valid for one year. You should get an email from Apple when you are within 30 days of that certificate expiring. When it expires, you can no longer build a new app. (Existing apps in TestFlight are not affected, they get the full 90 days.)</p> <p>The directions to renew your Distribution Certificate are found in LoopDocs: Renew Certificate.</p>"},{"location":"EN/operate/build/#build-trio_1","title":"Build Trio","text":"<p>Select Actions: 4. Build Trio and wait about an hour for your updated app to appear in TestFlight.</p> <p>Top of Page</p>"},{"location":"EN/operate/build/#build-trio-with-xcode","title":"Build Trio with Xcode","text":"<p>If you build Trio on your Mac using Xcode, the recommendation is to use the TrioBuildSelectScript to build your code.</p>"},{"location":"EN/operate/build/#build-trio-with-script","title":"Build Trio with Script","text":"<p>The <code>TrioBuildSelectScript</code> is similar to the script used to build Loop. If you need it, extensive instructions for that script are provided at these links: LoopDocs: Build Select Script and Loop and Learn: Build Select Script.</p> <p>The <code>TrioBuildSelectScript</code> offers the choice to:</p> <ol> <li><code>Build Trio</code></li> <li><code>Build Related Apps</code></li> <li><code>Run Maintenance Utilities</code></li> <li><code>Exit Script</code></li> </ol> <p>To execute the <code>TrioBuildSelectScript</code>, open a terminal on your Mac and copy and paste the command below into the terminal. Then, read and follow the directions. </p> <pre><code>/bin/bash -c \"$(curl -fsSL \\\n  https://raw.githubusercontent.com/loopandlearn/lnl-scripts/main/TrioBuildSelectScript.sh)\"\n</code></pre>"},{"location":"EN/operate/build/#build-trio_2","title":"Build Trio","text":"<p>When you select <code>Build Trio</code>, you will be provided with a choice of branches with information to guide your selection and URL for documentation. This script will then download a fresh copy of your selected branch and guide you through building with Xcode on your Mac.</p> <ul> <li>Once the download completes, the script will also<ul> <li>Create the automatic signing file</li> <li>Offer to remove provisioning profiles from your computer to ensure the build will last an entire year</li> <li>Provide instructions for how to build the app once Xcode opens</li> <li>Open Xcode with your new download.</li> </ul> </li> <li>At this point, the main menu is displayed again for you to select another option or to exit the script</li> </ul> <p>The download is placed in your <code>Downloads</code> folder in a directory called <code>BuildTrio</code>. The downloaded clone is found in a folder with the branch name, date, and time encoded.</p>"},{"location":"EN/operate/build/#build-related-apps","title":"Build Related Apps","text":"<p>When you select <code>Build Related Apps</code>, you will be provided with a choice of apps that users of Trio often use. Once you make your selection, the script will provide similar steps to download and build the selected app.</p> <p>The choices are:</p> <ol> <li><code>Build Loop Follow</code></li> <li><code>Build xDrip4iOS</code></li> <li><code>Build Glucose Direct</code></li> <li><code>Return to Menu</code></li> </ol>"},{"location":"EN/operate/build/#run-maintenance-utilities","title":"Run Maintenance Utilities","text":"<p>When you select <code>Run Maintenance Utilities</code>, you will be provided with a choice of utilities helpful for Mac builders.</p> <p>The following options are offered:</p> <ol> <li><code>Delete Old Downloads</code></li> <li><code>Clean Derived Data</code></li> <li><code>Xcode Cleanup (The Big One)</code></li> <li><code>Clean Profiles</code></li> <li><code>Return to Menu</code></li> </ol> <p>For more information, refer to Loop and Learn: Maintenance Utitilites documentation.</p>"},{"location":"EN/operate/build/#build-errors","title":"Build Errors","text":"<p>If you encounter any build issues, please look at the LoopDocs Build errors page. Only some things on that page are relevant for building Trio, but many potential issues will likely be covered there. You will also get helpful advice about what info to provide if you need to ask for help. When you have identified the error message(s), you can use the search tool in LoopDocs to see if your error is mentioned.</p> <p>If you need it, you are most likely to get help in one of these groups:</p> <ul> <li>Discord:\u00a0Trio channel</li> <li>Facebook group: Trio</li> <li>Facebook groups like Loop and Learn and Looped primarily focus on Loop but offer a wide variety of support surrounding all types of DIY Looping.</li> </ul>"},{"location":"EN/operate/build/#xdrip4ios-or-glucose-direct-as-cgm-source","title":"xDrip4iOS or Glucose Direct as CGM Source","text":"<p>Important</p> <p>LibreTransmitter is provided as part of Trio. Neither xDrip4iOS nor Glucose Direct are required to interact with your compatible Libre sensor using Trio.</p> <p>Important</p> <p>Until the providers of Glucose Direct add a Trio App Group to their app, you cannot use this app with Trio.</p> <p>If you want to use xDrip4iOS as a CGM source via \u201cshared app group,\u201d you must also build that app from a source with the same developer ID used for building Trio. Scripts are available for these apps as well. All scripts follow the same download and build pattern and configure automatic signing files for you.</p> <p>The download is placed in your <code>Downloads</code> folder in a directory called <code>BuildxDrip4iOS</code> or <code>BuildGlucoseDirect</code>, respectively. The downloaded clone is found in a folder with the branch name, date, and time encoded.</p> <p>These can be accessed using the TrioBuildSelectScript menu options mentioned above. Or you can run each script individually.</p>"},{"location":"EN/operate/build/#xdrip4ios","title":"xDrip4iOS","text":"<p>Important</p> <p>You must build xDrip4iOS version 5.3.1 or newer to have access to the Trio App Group required to work with Trio.</p> <pre><code>/bin/bash -c \"$(curl -fsSL \\\n  https://raw.githubusercontent.com/loopandlearn/lnl-scripts/main/BuildxDrip4iOS.sh)\"\n</code></pre>"},{"location":"EN/operate/build/#glucose-direct","title":"Glucose Direct","text":"<p>Important</p> <p>Until the providers of Glucose Direct add a <code>Trio App Group</code> to their app, you cannot use this app with Trio.</p> <pre><code>/bin/bash -c \"$(curl -fsSL \\\n  https://raw.githubusercontent.com/loopandlearn/lnl-scripts/main/BuildGlucoseDirect.sh)\"\n</code></pre>"},{"location":"EN/operate/build/#alternative-branch-for-trio","title":"Alternative Branch for Trio","text":"<p>Sometimes, specific branches are offered for testing. Any desired branch can be cloned using the <code>Build Trio</code> script. After the final quote of the script command, add a space, hyphen, space, and branch_name. An example is shown below: replace <code>branch_name</code> with your desired branch. Note that specific branches like this are not deleted as part of the <code>Delete Old Downloads</code> utility discussed in Maintenance Utilities.</p> <pre><code>/bin/bash -c \"$(curl -fsSL \\\n  https://raw.githubusercontent.com/loopandlearn/lnl-scripts/main/BuildTrio.sh)\" - branch_name\n</code></pre> <p>Top of Page</p>"},{"location":"EN/operate/build/#update-trio-with-xcode","title":"Update Trio with Xcode","text":"<p>Because Trio uses submodules, there are actions you need to perform when updating that are easiest using the command line interface (CLI) in a terminal opened in the same folder as the Trio workspace.</p> <p>If you prefer, you can use the Build Script to download and build a fresh copy.</p> <p>This section tells you how to update the version you already have on your computer.</p> <p>Open Xcode. If your Trio workspace is not already open, you can usually find it in the recent projects, as shown in the graphic below. You can also pull down the Xcode menu for <code>File</code>, select <code>Open Recent</code>, and find your workspace.</p> <p></p>"},{"location":"EN/operate/build/#open-terminal","title":"Open Terminal","text":"<p>Once you have Xcode open with your previous build of Trio, the first thing to do is open a terminal. Here are two methods - choose one:</p> <ol> <li>Use Xcode, <code>Behaviors</code>, <code>Open Terminal</code> if you configured Xcode Behaviors</li> <li>Locate the <code>Trio</code> folder using Where is my Download</li> </ol>"},{"location":"EN/operate/build/#customizations","title":"Customizations","text":"<p>Always attempt to Update your Code first. Typically, your customizations can be left alone and <code>git</code> will merge the new code without requiring any additional action on your part.</p> <ul> <li>If you have a customization, you can often proceed with the update with no issues</li> <li>If your customization conflicts with a file or submodule that is being updated, you get a clear error message and need to proceed to Fix Trio Conflicts</li> </ul>"},{"location":"EN/operate/build/#update-your-code","title":"Update your Code","text":"<p>In the terminal, you will copy and paste this pair of commands to update your workspace and all your submodules.</p> <pre><code>git fetch\ngit pull --recurse\n</code></pre> <p>The first command <code>git fetch</code> brings down any updates about the state of the Trio workspace repository from GitHub.</p> <p>The second command <code>git pull --recurse</code> does several things:</p> <ul> <li>Brings down any updates about the state of the submodule repositories from GitHub, e.g., <code>Fetching submodule XXXX</code> repeated for each submodule</li> <li>Merges any changes from GitHub into your local copy of the Trio workspace</li> <li>For each submodule, it updates the version to match the one selected in GitHub, see Submodule Update for more details</li> </ul> <p>There can be errors in several places, for example:</p> <pre><code>error: Your local changes to the following files would be overwritten by merge:\n    FreeAPS/folder/file.swift\nPlease commit your changes or stash them before you merge.\nAborting\n</code></pre> <p>The <code>pull</code> command halts at this error and does not move on updating the submodules. You must first fix the Trio workspace files using Fix Trio Conflicts.</p> <ul> <li>If there was no error similar to the one shown above, you will see the word <code>Updating</code> with the list of files changed.</li> <li>If there were no updates, you'll see <code>Already up to date</code></li> </ul>"},{"location":"EN/operate/build/#submodule-update","title":"Submodule Update","text":"<ul> <li>If there are no updates to submodules, you won't see any submodule update messages - that is not uncommon</li> <li>If there are updates to one or more submodules with no errors, you will see messages indicating the submodules are being checked out similar to the one below</li> </ul> <pre><code>Submodule path 'ModuleName': checked out 'f11abde5e2eea2cbf7ac80f3f4bc4bc6e7f6de56'\n</code></pre> <p>If you see the word <code>error</code> or <code>conflict</code> on the output, similar to the following, head over to Fix Submodule Conflicts.</p> <pre><code>error: Your local changes to the following files would be overwritten by checkout:\n    SubModuleName/folder/file.swift\nPlease commit your changes or stash them before you switch branches.\nAborting\nfatal: Unable to checkout 'f11abde5e2eea2cbf7ac80f3f4bc4bc6e7f6de56' in submodule path 'SubModuleName'\n</code></pre> <p>If you saw no errors, you are ready to build.</p>"},{"location":"EN/operate/build/#fix-trio-conflicts","title":"Fix Trio Conflicts","text":"<p>If you have customizations in the Trio code (in the workspace) that cause a conflict when you <code>pull</code>, it is best to delete those and start fresh. (Expert users know how to handle this, these directions are for novices):</p> <pre><code>git reset --hard\ngit clean -fd\ngit pull\n</code></pre> <p>You should see the words: <code>Your branch is up to date with origin/main</code> (or <code>dev</code> or other branch if you are not running <code>main</code>.)</p> <p>Now you need to continue to update the submodules with this command:</p> <pre><code>git submodule update\n</code></pre> <p>If there are no conflicts, you are ready to build the Trio app to your phone.</p> <p>If there are conflicts similar to those shown in Submodule Update, fix them before building.</p>"},{"location":"EN/operate/build/#fix-submodule-conflicts","title":"Fix Submodule Conflicts","text":"<p>If you have customizations in the submodules that conflict with the update, you see a message <code>fatal: Unable to checkout</code> the submodule. It is easiest to discard the customizations and reapply them manually after the update:</p> <ul> <li>Read which submodule failed to <code>checkout</code></li> <li>Change directory to that module: <code>cd modulename</code></li> <li>Discard your changes: <code>git reset --hard; git clean -fd</code></li> <li>Return to the Trio folder and try again: <code>cd ..; git submodule update</code></li> </ul> <p>If another submodule fails to checkout, repeat the steps for that <code>modulename</code>.</p> <p>If there are no errors, the Trio code is now updated.</p> <p>If Xcode is not open, you can open it by typing <code>xed .</code> in the Trio folder of your terminal window.</p> <p>You can now build the updated Trio app to your phone.</p>"},{"location":"EN/operate/build/#first-xcode-build-with-trio-app-group","title":"First Xcode Build with Trio App Group","text":"<p>If you previously built using Xcode when the Loop App Group was used, you may need to let Xcode connect with Apple to update the new <code>Trio App Group</code>. See instructions at Mac Build after App Group Change.</p> <p>Top of Page</p>"},{"location":"EN/operate/build/#xcode-behaviors","title":"Xcode Behaviors","text":"<p>You can add Behaviors to your version of Xcode. These custom Behaviors only need to be added once.</p> <p>You will create a shell script and add it to Xcode.</p> <ul> <li><code>Open Terminal</code> will open a terminal in the workspace or project folder currently in use by Xcode</li> </ul>"},{"location":"EN/operate/build/#prepare-the-shell-script","title":"Prepare the Shell Script","text":"<p>Open a new terminal:</p> <p>Step 1: Create a folder to store your shell scripts by copying and pasting the next line (only do this one time or you will get an error message):</p> <pre><code>mkdir ~/scripts\n</code></pre> <p>Step 2: Copy and paste this command into your terminal to prepare the <code>Open Terminal</code> shell script:</p> <pre><code>touch ~/scripts/open_terminal.sh; open -e ~/scripts/open_terminal.sh\n</code></pre> <p>Copy and paste the following lines into the editor and then save and close the file.</p> <pre><code>#!/bin/bash\nopen -a Terminal \"`pwd`\"\n</code></pre> <p>Step 3: Make the shell script executable; Copy and paste this command into your terminal:</p> <pre><code>chmod +x ~/scripts/*.sh\n</code></pre>"},{"location":"EN/operate/build/#add-behaviors-to-xcode","title":"Add Behaviors to Xcode","text":"<p>Under the Xcode menu item, select <code>Behaviors</code>, <code>Edit Behaviors</code></p> <p>Follow these steps (refer to the graphic below):</p> <ol> <li>At the bottom of the window, click the <code>+</code> sign</li> <li>Under the <code>Custom</code> section, you should see the <code>New Behavior</code> row, enter <code>Open Terminal</code></li> <li>On the right side at the bottom, click on <code>Run</code>, then <code>Choose Script</code></li> </ol> <p></p> <ul> <li>Navigate to your username (mine is <code>marion</code>) and find the <code>scripts</code> directory</li> <li>Highlight the file <code>open-terminal.sh</code> and then select <code>Save</code></li> </ul> <p></p> <p>The Behavior <code>Open Terminal</code> is now ready for you to use, as shown in this graphic.</p> <p></p> <p>Return to Open Terminal.</p>"},{"location":"EN/operate/build/#where-is-my-download","title":"Where is my Download","text":"<p>If you have Xcode open, you can right-click on any file and select <code>Show in Finder</code>. Then at the bottom of the Finder window, right-click on the Trio folder and select <code>New Terminal at Folder</code>.</p> <p>If you do not have Xcode open, you can use Finder to locate the directory where the <code>BuildTrio</code> script saved the code. The directory is named after the branch with the date and time for the download:</p> <ul> <li>Released (main) branch:\u00a0Downloads/BuildTrio/Trio_main-[date-time]/Trio<ul> <li>Example: <code>~/Downloads/BuildTrio/Trio_main-220122-1352/Trio</code></li> </ul> </li> <li>Development (dev) branch:\u00a0Downloads/BuildTrio/Trio_dev-[date-time]/Trio<ul> <li>Example: <code>~/Downloads/BuildTrio/Trio_dev-220108-1827/Trio</code></li> </ul> </li> </ul> <p>Use Finder to open a Terminal window at the <code>Trio</code> directory by right-clicking on it and selecting <code>New Terminal at Folder</code>.\u00a0</p> <p>To open Xcode, type <code>xed .</code> in the Terminal.</p> <p>Return to Open Terminal.</p>"},{"location":"EN/operate/build/#special-section-on-trio-app-group","title":"Special Section on Trio App Group","text":"<ul> <li>If you have never built Trio before - just follow the instructions on this page: return Top of Page</li> <li>If you have already built Trio and have added the <code>Trio App Group</code>: return Top of Page</li> <li>If you have already built Trio, but you did not add the <code>Trio App Group</code> (or are not sure), please read this section for hints and help</li> </ul> <p>Instructions for GitHub | Mac-Xcode</p>"},{"location":"EN/operate/build/#browser-build-after-app-group-change","title":"Browser Build after App Group Change","text":"<p>In order to build the Trio app with Browser Build, you must assign the <code>Trio App Group</code> to 3 of the 4 identifiers for Trio.</p>"},{"location":"EN/operate/build/#step-1-create-trio-app-group","title":"Step 1: Create Trio App Group","text":"<ul> <li>Check if you have a <code>Trio App Group</code>: List your App Groups</li> <li>Create a <code>Trio App Group</code> if you don't have one: Register an App Group</li> </ul> NAME Xcode version (NAME) IDENTIFIER Trio App Group group org nightscout TEAMID trio trio-app-group group.org.nightscout.TEAMID.trio.trio-app-group"},{"location":"EN/operate/build/#step-2-assign-trio-app-group-to-trio-identifiers","title":"Step 2: Assign Trio App Group to Trio Identifiers","text":"<p>Return to Add Trio App Group to Identifiers</p>"},{"location":"EN/operate/build/#mac-build-after-app-group-change","title":"Mac Build after App Group Change","text":"<p>The first time you build Trio after the change from <code>Loop App Group</code> to <code>Trio App Group</code>, you are likely to see the build error in the first graphic.</p> <p></p> <p>You must be connected to the internet and must allow Xcode to connect to Apple to update your app group. Tap in the four locations (in order): (1) Folder Icon, (2) FreeAPS folder, (3) Signing &amp; Capabilities and (4) Target: FreeAPS, as indicated in the graphic below. The app group may momentarily appear in red font, then will update to black font for the trio-app-group. Continue until you have examined three targets <code>FreeAPS</code>, <code>FreeAPSWatch</code> and <code>FreeAPSWatch Watchkit Extension</code>. When those targets show the correct App Group, press the build symbol again.</p> <p></p>"},{"location":"EN/operate/build/#consequences-of-trio-app-group","title":"Consequences of <code>Trio App Group</code>","text":"<p>If you use xDrip4iOS or GlucoseDirect as your CGM for Trio, they need to support the same <code>App Group</code> as Trio.</p> <ul> <li>xDrip4iOS requires version 5.3.1 or newer to support the <code>Trio App Group</code></li> <li>GlucoseDirect has not been updated, at this time, so does not currently work with Trio as a CGM source</li> </ul>"},{"location":"EN/operate/customize/","title":"Add Customizations to Trio","text":"<p>Here are a few ways to customize the Trio code to suit your needs better. Please be very careful when editing any code.</p>"},{"location":"EN/operate/customize/#bypass-authentication-for-bolusing","title":"Bypass Authentication for Bolusing","text":"<p>Warning</p> <ul> <li>If you disable this, you remove an important safety feature.</li> <li>In addition to authenticating every manual bolus, this helps to protect against sleep bolusing and pocket bolusing.</li> </ul> <p>Depending on your iPhone settings and model, you may have Face ID or Touch ID enabled. Those security features will also be used to authenticate bolus delivery in Trio. You can disable authentication (i.e., not require Face ID, Touch ID, or passcode for bolusing) through the following code customization.</p> <p>Steps:</p> <p>Edit line 28 of the file <code>FreeAPS/Sources/Services/UnlockManager/UnlockManager.swift</code></p> <p>Code before modification:  <pre><code>if context.canEvaluatePolicy(.deviceOwnerAuthentication, error: &amp;error) {\n</code></pre></p> <p>Code after modification:  <pre><code>if false, context.canEvaluatePolicy(.deviceOwnerAuthentication, error: &amp;error) {\n</code></pre></p>"},{"location":"EN/operate/customize/#omnipod-add-extra-insulin-on-insertion","title":"Omnipod: Add Extra Insulin on Insertion","text":"<p>The default value is 0.0 U of extra insulin. If you use this customization, start with a small number and work your way up. If you come from manual podding and routinely gave yourself an extra bolus with your PDM at pod change time, you may not need nearly as much with Trio - be conservative.</p> <p>It is important to know</p> <p>Trio does not include the amount of insulin in the prime or insertion steps in your IOB. </p> <ul> <li>The pod reports every pulse that it delivers to Trio. If you look in the Pod Settings insulin delivered row, that is the total delivered by the pod minus the (prime plus insertion) amounts.</li> <li>The only way to know that you successfully made this change is to count the clicks. Normal insertion is 0.5 units or 10 clicks (0.05 units per click). If you add 0.25 units to the \"extra\" value, you will get 0.25 / 0.05 = 5 extra clicks. In other words, there are 15 total clicks after you slide to insert.</li> </ul> <p>Eros Pods and Dash Pods have different locations for this change. Some change both files just in case, but that is unnecessary if you're only using one type of pod.</p>"},{"location":"EN/operate/customize/#dash","title":"Dash","text":"<p>Edit line 82 of the file <code>OmniBLE/OmniBLE/OmnipodCommon/Pod.swift</code></p> <p>Code before modification:  <pre><code>public static let cannulaInsertionUnitsExtra = 0.0\n</code></pre></p> <p>Code after modification adding 0.25U of insulin:  <pre><code>public static let cannulaInsertionUnitsExtra = 0.25\n</code></pre></p>"},{"location":"EN/operate/customize/#eros","title":"Eros","text":"<p>Edit line 84 of the file <code>OmniKit/OmniKit/OmnipodCommon/Pod.swift</code></p> <p>Code before modification:  <pre><code>public static let cannulaInsertionUnitsExtra = 0.0\n</code></pre></p> <p>Code after modification adding 0.25U of insulin:  <pre><code>public static let cannulaInsertionUnitsExtra = 0.25\n</code></pre></p>"},{"location":"EN/operate/customize/#add-custom-icon","title":"Add Custom Icon","text":"<p>There are several different app icon options built into Trio, but you can still add your own if you'd like. You'll need to convert the image you want into a PNG file with a resolution of 1024x1024. For this guide, we'll use this icon and call it ivan.</p> <p></p> <ol> <li> <p>Go into the folder <code>FreeAPS/Resources/Assets.xcassets/</code> and create a new folder called <code>ivan.appiconset</code></p> </li> <li> <p>Add two copies of the 1024x1024 PNG file into this folder, called <code>ivan.png</code> and <code>ivan 1.png</code></p> </li> <li> <p>Add a file called <code>Contents.json</code> with the following contents:    <pre><code>{\n  \"images\" : [\n    {\n      \"filename\" : \"ivan.png\",\n      \"idiom\" : \"universal\",\n      \"platform\" : \"ios\",\n      \"size\" : \"1024x1024\"\n    },\n    {\n      \"filename\" : \"ivan 1.png\",\n      \"idiom\" : \"universal\",\n      \"platform\" : \"watchos\",\n      \"size\" : \"1024x1024\"\n    }\n  ],\n  \"info\" : {\n    \"author\" : \"xcode\",\n    \"version\" : 1\n  }\n}\n</code></pre></p> </li> <li> <p>Insert a new line after line 14 in the file <code>FreeAPS/Sources/Models/Icons.swift</code> containing the following text: <code>case ivan = \"ivan\"</code></p> </li> </ol> <p>Code before modification:    <pre><code>...\n   case loop = \"trioLoop\"\n   var id: String { rawValue }\n}\n</code></pre></p> <p>Code after modification:    <pre><code>...\n   case loop = \"trioLoop\"\n   case ivan = \"ivan\"\n   var id: String { rawValue }\n}\n</code></pre></p>"},{"location":"EN/operate/interface/","title":"User Interface","text":""},{"location":"EN/operate/interface/#main-screen","title":"Main Screen","text":"<p> The main screen of Trio can be divided into three sections: </p> <p>Status | Graphs &amp; Statistics | Actions</p> <p></p>"},{"location":"EN/operate/interface/#status","title":"Status","text":"<p>The Status section shows your current insulin on board (IOB), carbs on board (COB), blood glucose, pump status, and looping status.  The looping indicator will be grey if no data is present. It will be green when it has been less than 5 minutes since a successful loop cycle. It will turn yellow if no loop cycle has been completed for over 5 minutes. If more than 10 minutes go by without a successful loop cycle, the loop circle will turn red. The section to the left of the loop circle shows you the approximate units of insulin left in your pump. If you're using Omnipod, 50+ U means more than 50 units of insulin are left. Below the insulin left, you will see your pump battery status if you're using a Medtronic pump and the days/hours left if you're using an Omnipod.</p> <p></p> <p>Tapping the top of the screen will bring up a History screen with information on changes implemented by the most recent loop cycle. Tapping the pump status will bring you to pump settings.</p>"},{"location":"EN/operate/interface/#graphs-and-statistics","title":"Graphs and Statistics","text":"<p>The middle of the screen graphs your current blood sugar data and inputted carbs overlaid with Trio's insulin delivery and blood sugar predictions.</p> <p></p> <p>Below the graph is the prediction line legend so you can determine the meaning of your prediction lines.</p> <p></p> <p>The zero temp (ZT) line predicts where your blood sugar would be if insulin delivery and carb absorption ceased. The IOB line predicts where blood sugar would be if insulin delivery was ceased and carb absorption was minimal. The unannounced meal (UAM) line predicts how long blood glucose will continue to rise, to dose insulin accordingly. The COB line predicts the effects of entered carbs on future blood glucose. For more information on prediction lines, see the OpenAPS documentation.</p> <p>If enabled, statistics detailing your time in range, coefficient of variance (CV), and average glucose are displayed underneath these graphs. Tapping in this area allows you to change the time interval used to calculate these statistics.</p>"},{"location":"EN/operate/interface/#actions","title":"Actions","text":"<p>At the bottom of the screen, you have five action icons:</p> <p></p> Meal Bolus   The Meal Bolus option allows you to enter Carbs and bolus accordingly. If you have \"Fat And Protein Conversion\" enabled, you will also be provided the option to enter fat and protein content in grams.  Temp Target   The Temp Target icon allows you to set temporary blood glucose targets. The most common targets are a high target for exercise and a low target for meal preparation.   Bolus   The Bolus icon allows you to give manual correction boluses. Manually correcting is not recommended if you are using Trio's SMB and UAM features.  Statistics   The Statistics Icon shows your statistical data in the app.  Settings   The Settings icon allows you to access your Trio settings. The settings screen allows you to adjust your configuration. Please see [Configure](../settings/devices/pump.md) for more information on each configuration option."},{"location":"EN/operate/temptarget/","title":"Temporary Targets","text":""},{"location":"EN/operate/temptarget/#exercise","title":"Exercise","text":"<p>Tips</p> <ul> <li>Set a high temp target 1-2 hours before your exercise</li> <li>Enable exercise-related settings in preferences to reduce insulin delivered while exercising</li> <li>Pack a snack when you plan to exercise</li> </ul> <p>Exercise can have immediate and long-term effects on glycemic control. Generally, individuals will find their blood sugar drops during intense exercise and continue to drop for 3-4 hours after. They may also experience increased insulin sensitivity for 24 hours after exercise.</p> <p>Consuming enough slow-acting carbohydrates before and after your exercise session is important. Pack a snack in case you need a source of simple carbohydrates during your routine. </p> <p>Trio has some quality-of-life features that make exercise easier while looping. When you plan to exercise, increase your target approximately 2 hours before your exercise. If you have SMB enabled, be sure that \"Allow SMB With High Temptarget\" is disabled. Finally, you can enable \"High Temptarget Raises Sensitivity\" to prevent Trio from providing too much insulin during exercise.</p>"},{"location":"EN/operate/temptarget/#pre-meal","title":"Pre-Meal","text":"<p>Tips</p> <ul> <li>Set a low temp target 1-2 hours before meals to help with spikes</li> <li>Enable \"Low Temptarget Lowers Sensitivity\" to allow for greater insulin delivery</li> </ul> <p>If you plan to eat soon, you may want Trio to provide you extra room to fill up on carbs. One way you can do this is by setting a temp target approximately 1 mmol/L or 18 mg/dL below your target, 1-2 hours prior to meals. You can also enable \"Low Temptarget Lowers Sensitivity\"  to give yourself more insulin for the upcoming meal and to bring your blood sugar down faster to the pre-meal range.</p>"},{"location":"EN/operate/troubleshoot/","title":"Common Issues","text":"<p>Adapted from looptips</p>"},{"location":"EN/operate/troubleshoot/#site-change-and-site-failures","title":"Site Change and Site Failures","text":"<p>Tips</p> <ul> <li>Pump site changes can temporarily impact control. </li> <li>Pump site failures can negatively impact control for hours. Turn off closed loop when failure is discovered, and only turn back on when a new pump is installed.</li> </ul>"},{"location":"EN/operate/troubleshoot/#site-change","title":"Site Change","text":"<p>Pump site changes can negatively impact your immediate glycemic control. Different delivery sites' ability to absorb insulin varies, impacting your perceived insulin sensitivity. Trio should be able to accommodate this change by resetting its Autosens measurements (assuming \"Rewind Resets Autosens\" is on) and adapting as needed.</p> <p>For Omnipod If you think you need more insulin primed in the new pod, consider customizing that line of code with these instructions.</p>"},{"location":"EN/operate/troubleshoot/#site-failure","title":"Site Failure","text":"<p>Pump failures can result from kinks or improper insertion of the cannula. As a result of a pump failure, Trio may assume that more insulin is on board the patient than what was delivered, leading to sustained highs even after the pump is replaced. </p> <p>When you find out your pump has failed, immediately open loop to prevent Trio from trying to deliver more insulin. Upon your next pump installation, you can then close loop and be patient. Trio will wait for the calculated insulin on board to drop before delivering insulin.</p>"},{"location":"EN/operate/troubleshoot/#low-treatment","title":"Low Treatment","text":"<p>Tips</p> <ul> <li>Enter carbs for treatment into Trio, but do not bolus for it</li> <li>Consider reducing your profile ISF or Adjustment Factor if Dynamic ISF is enabled</li> </ul> <p>Low blood sugar events can happen from time to time, but you will typically not require as many carbs to treat your lows as opposed to MDI or using a pump. When you treat a low, you should enter the carbs consumed into the Trio system so its autotune functionality can make better choices on your ICR, ISF, and basal rates.</p> <p>If you experience a roller coaster pattern of highs and lows after treatment, your insulin sensitivity factor (ISF) is most likely to blame. Consider making your insulin sensitivity less aggressive by 10% or reducing your adjustment factor by 0.1 increments. </p>"},{"location":"EN/operate/troubleshoot/#rebound-lows","title":"Rebound Lows","text":"<p>Tips</p> <ul> <li>Treating lows with fast carbs can give a fast BG rise</li> <li>Under certain circumstances, Trio might react to the fast BG rise by giving insulin, leading to another low</li> </ul> <p>To avoid a second low, you can instruct Trio not to give any SMBs for a while after a low, giving your BG time to stabilize. Set up a Temporary Target preset that is a bit higher than your usual target (e.g., 7,5 mmol/L | 136 mg/dl). Ensure that Allow SMB With High Temptarget is disabled. Make the temporary target last for a while (e.g., 30-45 min).</p> <p>Warning</p> <p>Setting a temporary target is not the same as disconnecting the pump. Trio will still be able to give you insulin during the temporary target, but only by adjusting basal rates, resulting in a less aggressive treatment.</p>"},{"location":"EN/operate/troubleshoot/#highs-after-meals","title":"Highs after meals","text":"<p>Tip</p> <p>It is normal for BG to rise after a meal. This happens to everyone, with or without diabetes. The key is to avoid very high BG levels and bring them back into range as soon as possible.</p>"},{"location":"EN/operate/troubleshoot/#fast-rise","title":"Fast Rise","text":"<p>Scenario: Your BG rises fast when eating and ends up too high.</p> <p>If your BG rises fast and ends up too high, it is usually because the carbs were absorbed before the insulin peaked. If we rule out site issues, illness, etc, the logical approach is to ensure you get enough insulin ahead of the carbs. You can achieve this by increasing your pre-bolus timing for the meal. This gives the insulin time to absorb before the carbs kick in. You can find more information on the mealtime strategy page.</p>"},{"location":"EN/operate/troubleshoot/#persistent-high-after-meals","title":"Persistent High After Meals","text":"<p>Scenario: Your BG gets high after a meal and stays high for a long time. Trio gives you some SMBs, but not enough to bring you back down.</p> <p>Trio calculates the amount of insulin needed to bring blood glucose back into range. Additional insulin is needed when blood glucose remains high after a meal, but Trio needs the correct settings to make those adjustments. </p> <ul> <li>The first adjustment should be to reduce your CR. Reducing your carb ratio will result in more insulin for the carbs entered.</li> <li>If you notice that your CR needs fluctuate based on your blood sugar level at the time, evaluate activating the Dynamic CR setting. </li> </ul>"},{"location":"EN/operate/troubleshoot/#fast-rise-then-low","title":"Fast Rise, Then Low","text":"<p>Scenario: Your BG rises and ends up too high after a meal, then falls and ends up too low.</p> <p>In this scenario, you are not getting enough insulin upfront to deal with the carb absorption, but the total amount of insulin you're getting is too much - causing a low. If this is a repeating scenario, you should look into all of the following:</p> <ol> <li>If all the delivered insulin is from one bolus, you should consider adjusting your CR setting so that the bolus calculator gives you less insulin. You could also consider pre-bolusing, giving the insulin some time to absorb before you start eating.</li> <li>If the delivered insulin is part bolus and part SMBs, you should consider adjusting your ISF setting so that the SMBs give you less insulin. It would help if you also considered pre-bolusing, giving the insulin more time to absorb before you start eating.</li> <li>In both (1) and (2), if you use dynamic ISF and CR features, you should consider lowering the Adjustment Factor and adjusting the Autosens max/min settings.</li> </ol> <p>Please read through the chapters on Autosens and Dynamic settings.</p>"},{"location":"EN/resources/citations/","title":"Resources","text":""},{"location":"EN/resources/citations/#openaps-documentation","title":"OpenAPS Documentation","text":"<p>The first place to start if you want to learn more about the underlying algorithm, is the extensive OpenAPS documentation. OpenAPS is the underlying algorithm that Trio implements to control blood sugar, with small modifications mostly pertaining to the Dynamic settings. </p>"},{"location":"EN/resources/citations/#androidaps-documentation","title":"AndroidAPS Documentation","text":"<p>AndroidAPS implements the same OpenAPS algorithm with dynamic enhancements and maintains an extensive documentation for new users. Recommend if you have additional questions, you skim through its documentation for your answer.</p>"},{"location":"EN/resources/citations/#loop-documentation","title":"Loop Documentation","text":"<p>Trio is a fork of Loop. While their underlying algorithms are different, they share some parts of their code base. Its recommended you take a quick glance in the Loop Docs for your issue, especially if it relates to pump usage and build errors. Many of these documents have been adapted from Loopdocs.</p>"},{"location":"EN/resources/citations/#community-support-free-support","title":"Community Support (Free Support)","text":"<p>There are many opportunities to find help with using Trio.</p> <ul> <li>Discord     In Discord, you can...<ul> <li>search in the relevant channel to see if your issue has been answered</li> <li>post a question in a relevant channel</li> <li>expect answers from both Trio developers and fellow DIY community members</li> </ul> </li> <li>Facebook   In Facebook, you can...<ul> <li>use the search function in Facebook to locate posts where your issue may have already been addressed</li> <li>post a question to the Facebook group</li> <li>expect answers from fellow DIY community members</li> </ul> </li> </ul>"},{"location":"EN/resources/citations/#healthcare-providers-paid-support","title":"Healthcare Providers (Paid Support)","text":"<p>Many Healthcare Providers offer support in using DIY services. The following providers are not free and come with costs based on your needs and your insurance coverage.</p> <ul> <li>Loop and Learn Provider List   Loop and Learn has created a list of DIY-Supportive Healthcare providers. If you have a supportive provider that is not on this list, please submit their information here.</li> <li>Integrated Diabetes Services   If you would prefer assistance with setting up your system from a team of diabetes educators, Gary Scheiner and his team are available.</li> <li>BC Diabetes (Canadian Residents Only)   If you are a BC Diabetes Looper, please request a link to their Slack group from your case manager.</li> </ul>"},{"location":"EN/resources/citations/#citations","title":"Citations","text":"<ul> <li>Loop Documentation</li> <li>Loop Tips</li> <li>OpenAPS Documentation</li> <li>AndroidAPS Documentation</li> <li>Support groups on Discord and Facebook</li> </ul>"},{"location":"EN/settings/loop/","title":"Closed Loop","text":"<p>Closed Loop is disabled by default. This means Trio cannot make adjustments autonomously. The system relies on your approval of its actions.</p>"},{"location":"EN/settings/loop/#should-i-enable-it","title":"Should I Enable It?","text":"<p>Closed Loop allows the system to make insulin adjustments automatically. Your end goal for looping is to enable this setting to reduce the time spent managing your diabetes. However, closing loop too early can make it difficult for new loopers wanting to optimize their ISF, CR, and basal settings. If this is your first time looping, it is recommended you keep this setting disabled initially, and ensure your profile settings (CR, ISF, basal rates) are properly set. You should monitor Trio's predictions and suggestions and see if they are appropriate for you. See the corresponding sections on CR, ISF, and basal rates for more information on their adjustment.</p> <p>:::{important} Remember that everyone's diabetes is different, and there is no one-size-fits-all, so take your time optimizing your settings. :::</p>"},{"location":"EN/settings/configuration/autotune/","title":"Autotune","text":"<p>Highlights</p> <ul> <li>Do not enable autotune unless you have full confidence in your current profile settings </li> <li>Autotune adjustments are limited by autosens max/min</li> </ul>"},{"location":"EN/settings/configuration/autotune/#what-is-autotune","title":"What is Autotune?","text":"<p>Autotune makes iterative adjustments to your profile settings (basal rates, ISF, and carb ratio) based on your last 24 hours of data. The adjustments made by Autotune are small, with a maximum of 10% change to the current CR and ISF or 20% change to the current basal rates per run, but they add up over days. Autotune is run nightly by default unless it is manually run by the user.</p> <p>Autotune is designed to work over weeks to slowly improve the accuracy of your initially set ISF/CR/basal rates. The output of autotune formulas produces a ratio similar to that of autosens. The autosens max and min preferences also limit this ratio.</p>"},{"location":"EN/settings/configuration/autotune/#how-does-it-work","title":"How does it work?","text":"<p>Autotune is not Machine Learning. It is not AI. It is a statistical regression attempting to compare what happened over the last 24 hours with what profile settings are and adjusting the profile settings accordingly. </p> <p>For basals, it divides the day into hour-long increments. It calculates the total deviations for that hour increment and what change in basal would be required to adjust those deviations to 0. Then, 20% of the change needed is applied to the three hours prior (because of insulin impact time). If increasing basal, it increases each of the 3-hour increments by the same amount. If the basal decreases proportionally, the biggest basal is reduced the most.</p> <p>For ISF, it calculates the 50<sup>th</sup> percentile (median) deviation for the entire day and determines how much ISF would need to change to get that deviation to 0. It applies 10% of that as an adjustment to ISF.</p> <p>For CR, it calculates the total deviations over all of the day's mealtimes, compares them to the deviations expected based on existing CR and the known amount of carbs entered, and applies 10% of that adjustment to CR.</p>"},{"location":"EN/settings/configuration/autotune/#important-note-on-dynamic-settings","title":"Important note on Dynamic Settings","text":"<p>Tip</p> <p>Autotune results can be unreliable if dynamic settings are enabled.</p> <p>Because Autotune uses Deviations to calculate basal variation, it has to calculate Deviations. It does this using a profile-based ISF value. </p> <p>This means that if you enable Autotune but use dynamic functions within Trio, the algorithm will not use the ISF that was in operation when it ran in the past, and basal adjustments and ISF adjustments are likely to be incorrect. </p> <p>It can also only run with a single daily ISF and CR, so it doesn't work for most people. </p>"},{"location":"EN/settings/configuration/autotune/#how-does-it-differ-from-autosens","title":"How does it differ from Autosens?","text":"<p>Autosens is designed to rapidly change your profile settings every loop cycle based on the last 8 or 24 hours of data. It accounts for biological changes to insulin sensitivity that occur throughout the day and night and changes from pump placement. </p> <p>Autotune, by contrast, works on a longer time scale. It makes slow but sustained changes to your profile to improve the accuracy of your set baseline settings. It is run every 24 hours.</p>"},{"location":"EN/settings/configuration/autotune/#should-i-enable-autotune","title":"Should I enable Autotune?","text":"<p>If you believe your profile settings are accurate, you should keep autotune disabled; it may worsen control in specific scenarios, such as after extended periods of sickness.</p> <p>If you decide to enable it, you should note that autotune is limited by autosens max and min ratios. You can alter these values to give autotune more flexibility, but you will also affect autosens, dynamic ISF, dynamic CR, and adjust basal.</p> <p>Instead, it is best to review your settings in a few weeks, note the new autotune values, and change your profile settings to match them, giving autotune a new starting point.</p>"},{"location":"EN/settings/configuration/basalprofile/","title":"Basal Profile","text":"<p>Highlights</p> <ul> <li>Basal profile can be transferred from a Medtronic pump or Nightscout account</li> <li>Adjust your basal profile by doing fasting experiments, reviewing your IOB at times of fasting, and observing autotune.</li> </ul> <p>Basal profile consists of your scheduled basal rates, which determine how much insulin is being delivered at each hour of the day. It is important to understand that these settings are not taken verbatim when looping with Trio. Based on your current blood sugar reading, they are adjusted every loop cycle and replaced with temporary basal rates. Your set values are altered by autosens or autotune (if enabled) based on your historical data.</p> <p>Your basal profile values should be near your true value. Protection limiters prevent Trio's autotune system from selecting the appropriate dose if the scheduled basal profile is wildly inaccurate. Basal profiles are also important for insulin on board (IOB) calculations. Trio treats your scheduled basal profile as the zero point when autotune is disabled. When autotune is enabled, it uses the autotuned basal rate instead of your scheduled basal rate. The calculated IOB increases if you receive additional insulin on top of your basal rates, either as boluses or high temporary basal rates. Likewise, if you receive low temporary basal rates for a set period, your IOB decreases, and can even become negative. </p>"},{"location":"EN/settings/configuration/basalprofile/#settings","title":"Settings","text":"<p>If you are coming from a pump, transferring basal profiles from your pump settings should be done with consideration and caution. They might not be entirely accurate for Trio. If you are going low or high while fasting, consider adjusting according to the instructions below.</p> <p>There are three main ways of identifying and improving your basal profile values. The standard method is to test your basal by having a relaxing 4-6 hours without eating at least two hours before you begin the test. Does your blood sugar stay steady? Or do you climb and need a correction? Or do you go low and need to eat? Setting accurate basal rates is crucial for Trio success. They determine how much of the insulin delivered (from basal and bolus) is counted as insulin on board (IOB).</p> <p>You can also monitor your IOB to determine if your basal profile is accurate. Consistently negative or positive IOB at certain times of day may suggest that these hours need to decrease or increase their basal rate, respectively.</p> <p>If you have autotune enabled, you can review the day-to-day trend of how autotune is changing your basal profile. If autotune remains steady, you can change your scheduled values to the autotune values. This has two main benefits:  1. Autotune can start to alter your values again if it is being stopped by a safety limiter (autosens max/min) 2. You can have your values hard-coded in case Autotune's data is reset.</p>"},{"location":"EN/settings/configuration/carbratios/","title":"Insulin Carbohydrate Ratio","text":"<p>Highlights</p> <ul> <li>CR can be transferred from your pump</li> <li>Adjust your CR by performing a test meal experiment or observing autotune.</li> </ul> <p>CR refers to the amount of carbohydrates one unit of insulin is able to neutralize. </p> <p>Example: Bill has a 1:10 CR (aka a CR of 10). If Bill has 20 carbs with lunch, he will need 2 U of rapid insulin to neutralize it.</p> <p>CR is not changed as drastically as basal rates or ISF unless Dynamic CR is enabled. Your CR must be as accurate as possible for proper Trio function.</p>"},{"location":"EN/settings/configuration/carbratios/#settings","title":"Settings","text":"<p>It is safe to transfer your CR from your pump settings. However, your settings may not be accurate if you are experiencing high peaks with meals or lows three hours afterward. If you have SMB/UAM on and are experiencing sharp drops, you may also need to optimize your ISF.</p> <p>There are two suggested methods of optimizing your CR. The standard way is a test meal experiment, which can be done while not looping. Have a meal with a known amount of carbohydrates and bolus according to your current CR. Monitor your blood sugar at the three-hour mark; did you go high, low, or end up where you started prior to the meal? If you end up high, you can make your CR more aggressive by DECREASING the value. If you were low, make your CR less aggressive by INCREASING the value. You may also look to increase or decrease your adjustment factor if you have dynamic CR on.</p> <p>If you have autotune enabled, monitor the general trend in CR adjustment. When the autotune value stabilizes, evaluate the suggestion and change your scheduled value to the autotune value, allowing the system to continue making changes if it was being limited by a safety limiter. </p>"},{"location":"EN/settings/configuration/insulinsensitivities/","title":"Insulin Sensitivity Factor","text":"<p>Highlights</p> <ul> <li>ISF is the most problematic setting for new loopers.</li> <li>ISF can be transferred from your pump to start.</li> <li>Adjust ISF by performing a correction and seeing if you reached your glucose target, or by observing autotune.</li> </ul> <p>ISF, also called insulin correction factor (ICF), refers to the amount of blood glucose in mmol/L (or mg/dL, depending on your settings) one unit of insulin can neutralize.</p> <p>Example: Bill has a 1:4 ISF (this is also written in shorthand as an ISF of 4 mmol/L/U (72 mg/dL/U)). This means 1 U of rapid insulin will bring Bill's sugar down by 4 mmol/L (72 mg/dL).</p> <p>Like basal rates, ISF is not used verbatim by Trio but is modified over time as data on the patient is collected. Still, setting ISF as close to accurate as possible is important for Trio to function well.</p>"},{"location":"EN/settings/configuration/insulinsensitivities/#settings","title":"Settings","text":"<p>It is safe to transfer your ISF from your pump settings. Note that almost all issues when starting with Trio are a result of an improperly set ISF. If you find you have lows with corrections, or you have SMB/UAM on and the application provides too much insulin at any time, resulting in a rollercoaster pattern, your ISF is likely to blame. </p> <p>There are a few ways you can work to adjust your ISF. The easiest method is simply bringing yourself to a higher glucose with a glucose tab or choosing a time when you are \"stuck\" higher than your target, then correcting based on your ISF. If you are higher than your target after 4 hours, make your ISF more aggressive by DECREASING the value. If you are lower than your target after 4 hours, make your ISF less aggressive by INCREASING the value.</p> <p>You may also find Autotune helpful in identifying when to adjust your ISF and determine whether it is too high or low based on the trend in its changes. Look to changing your profile value to the autotune value when Autotune stabilizes to ensure safety limiters aren't preventing any additional needed change.</p> <p>Warning</p> <p>When using Autotune, it is important to turn OFF DynamicISF prior to enabling or running Autotune</p>"},{"location":"EN/settings/configuration/pumpsettings/","title":"Pump Settings","text":"<p>Highlights</p> <ul> <li>Max Basal = 4x highest hourly basal</li> <li>Max Bolus = Max bolus you give for a meal</li> <li>Max Carbs = Maximum carbs allowed by a single entry</li> <li>DIA = Duration of Insulin Action (typically 7 hours)</li> </ul>"},{"location":"EN/settings/configuration/pumpsettings/#delivery-limits","title":"Delivery Limits","text":"<p>These are safety limiters for Trio. Note that Trio will prevent you from entering anything higher than these limits, but it won't alert or notify you about it. </p>"},{"location":"EN/settings/configuration/pumpsettings/#max-basal","title":"Max Basal","text":"<p>This is the highest temp basal allowed to be set. 4 times your highest scheduled basal rate is generally adequate. </p> <p>If Trio predicts you need a temp basal set higher than this value, it will instead set the basal to this maximum value. If you try to manually set a temp basal higher than this value, nothing will happen, and your current basal rate will not change. </p>"},{"location":"EN/settings/configuration/pumpsettings/#max-bolus","title":"Max Bolus","text":"<p>Choose the maximum amount of insulin you generally bolus for meals. This can also help if you regularly have leaking or tunneling issues for large boluses. </p> <p>If you enter a bolus higher than this value, it will only deliver this maximum value. So if your max bolus is set to 5U but you enter a 6U bolus, only 5U will be delivered. </p>"},{"location":"EN/settings/configuration/pumpsettings/#max-carbs","title":"Max Carbs","text":"<p>This is the maximum amount of carbs allowed in a single entry by Trio. If you enter more than this amount, your entry will be reduced to the maximum value. </p> <p>If your Max Carbs setting is 125g and you enter 150g, only 125g will be recorded. You could then enter a second entry for 25g to make up the difference.</p> <p>Note that, for now, this setting does not limit the maximum number of carbs that can be added via Nightscout or the watch app.</p>"},{"location":"EN/settings/configuration/pumpsettings/#duration-of-insulin-action","title":"Duration of Insulin Action","text":"<p>Warning</p> <p>It is not advised to decrease this setting</p> <p>Duration of insulin action (DIA) affects Trio calculations through its impact on insulin on board (IOB). The default DIA of 5 hours is likely too low and can cause insulin stacking. Increasing to 7 hours should suit most users. For more information on DIA in loop systems, read this from Tim Street.</p>"},{"location":"EN/settings/configuration/targetglucose/","title":"Target Glucose","text":"<p>Trio will target this value when calculating insulin needs. It should be set to the blood glucose you would like to reach when corrections are made. A recommended value is between 90-110mg/dL or 5-6mmol/L</p> <p>Tip</p> <p>You can set different targets at different times. Some users only have one target. Others have a lower target during the day and a higher target during the night to avoid lows.</p>"},{"location":"EN/settings/configuration/concepts/autosens-dynamic/","title":"Autosens, Dynamic ISF/CR, and Adjust Basal","text":"<p>Highlights</p> <ul> <li>Enable Dynamic ISF, Dynamic CR, and/or Adjust Basal for more rapid adjustments in response to physiological changes in insulin sensitivity</li> <li>Bias the calculated ISF/CR/Basal rates towards more or less aggressive values by increasing or decreasing the adjustment factor accordingly.</li> <li>Adjustments are limited by autosens max/min.</li> </ul> <p>Important</p> <p>The examples in this section employ the default logarithmic formula for calculations. For information on using Sigmoid, jump to this section.</p>"},{"location":"EN/settings/configuration/concepts/autosens-dynamic/#autosens","title":"Autosens","text":"<p>Auto-sensitivity (Autosens) reviews your last 8 hours and 24 hours of data every loop cycle (5 min) and determines whether you have been reacting more or less sensitively to insulin. It then makes conservative temporary adjustments to your basal rates, blood sugar target, and ISF.</p> <p>Example</p> <p>Autosens finds Bill has been running more sensitive to insulin lately. In the last 24 hours, he has been 2X more sensitive to insulin, whereas, in the last 8 hours, he has been 3X more sensitive to insulin.</p> <p>Autosens then takes the more conservative calculated sensitivity. In this example, the more conservative value is obtained from the 8-hour window because by assuming Bill is 3X more as opposed to 2X more sensitive to insulin, the system will be posed to give less insulin.</p> <p>If you are using Autotune, Autosens will use your calculated Autotune CR, ISF, and basal rates as its baseline rather than your set values.</p> <p>Note that Autosens does not examine meals or adjust your CR. It only assesses your sensitivity to insulin and adjusts ISF/basal rates/blood sugar targets accordingly.</p>"},{"location":"EN/settings/configuration/concepts/autosens-dynamic/#dynamic-isf","title":"Dynamic ISF","text":"<p>Some thought Autosens was too conservative and slow to make changes. <code>Dynamic ISF</code> is a drop-in replacement for Autosens's ISF calculation formula, with the goal of making it more aggressive. If you find that you have high ISF variability throughout the day and Autosens is not providing you with sufficient control, you can turn this feature on.</p> <p>Dynamic ISF takes into consideration a new variable called the <code>Adjustment Factor</code>, which affects its aggressiveness. If Dynamic ISF is too aggressive, you can decrease this number by 0.05-0.1 points to make it more meek. Likewise, increase this number if you still feel dynamic ISF is not aggressive enough.</p> <p>Note</p> <ul> <li>Dynamic ISF is temporarily disabled, and the system reverts to Autosens if either <code>High Temptarget Raises Sensitivity</code> or <code>Exercise Mode</code> is enabled and a high temporary target has been set by the user. While Dynamic ISF is inherently more aggressive, it also provides the user with greater control via the <code>Adjustment Factor</code> compared to Autosens. You can decrease the <code>Adjustment Factor</code> to make Dynamic ISF less aggressive than the calculated Autosens values. </li> </ul>"},{"location":"EN/settings/configuration/concepts/autosens-dynamic/#advanced-information","title":"Advanced information","text":"<p>Autosens determines a ratio (<code>autosens.ratio</code>) and alters your ISF in the following manner:</p> \\[ Profile\\ ISF\\ \u00f7\\ autosens.ratio\\ =\\ New\\ ISF \\] <p>Example</p> <p>Bill has an ISF of 3 mmol/L/U (54 mg/dL/U) in his settings. The system finds Bill has been more resistant to insulin lately and needs to increase his insulin. It calculates Bill has an <code>autosens.ratio</code> of 1.1 (note that a larger <code>autosens.ratio</code> results in a lower, more aggressive ISF).</p> <p>When Autosens adjusts the ISF, it uses the following calculation:</p> \\[ 3\\ mmol/L/U\\ \u00f7\\ 1.1\\ =\\ 2.73\\ mmol/L/U \\] \\[ 54\\ mg/dL/U\\ \u00f7\\ 1.1\\ =\\ 49\\ mg/dL/U \\] <p>Bill now temporarily has an ISF of 2.73 mmol/L/U (49 mg/dL/U).</p> <p>Dynamic ISF (using the default logarithmic algorithm in Trio) uses an alternative formula to calculate the autosens.ratio for ISF adjustments. Note this formula uses mg/dL and not mmol/L:</p> \\[ autosens.ratio\\ =\\ profile.sens\\ *\\ AF\\ *\\ TDD\\ *\\ log((BG/peak)+1)\\ /\\ 1800 \\] \\[ New ISF\\ =\\ (profile\\ ISF)\\ /\\ (autosens.ratio) \\] <p>This formula considers your profile ISF (profile.sens in mg/dL), current blood glucose (BG in mg/dL), total daily dose (TDD over the last 24 hours), insulin peak effect (peak activity normally is 120 min) and a new variable called adjustment factor (AF) that allows for user tuning of Dynamic ISF/CR.</p> <p>Click here to view a graph depicting the logarithmic formula in mg/dL</p> <p>Click here to view a graph depicting the logarithmic formula in mmol/L</p>"},{"location":"EN/settings/configuration/concepts/autosens-dynamic/#dynamic-cr","title":"Dynamic CR","text":"<p>This experimental feature alters the carb ratio (CR) based on current blood sugar and total daily dose (TDD). Unlike ISF, CR was not originally altered by autosens with respect to your detected sensitivity. Using Dynamic CR will lead to a dramatic change in how CR is calculated by Trio. Dynamic CR uses a similar formula as Dynamic ISF as described above:</p> \\[ autosens.ratio\\ =\\ profile.sens\\ *\\ AF\\ *\\ TDD\\ *\\ log((BG/peak)+1)\\ /\\ 1800 \\] \\[ New\\ CR\\ =\\ (profile\\ CR)\\ /\\ (autosens.ratio) \\] <p>If your CR changes dramatically daily and Trio is not providing adequate bolus recommendations, you can test this feature. Note that Trio already makes modifications to your recommended boluses without this feature enabled based on your blood glucose target, COB, and IOB.</p> <p>Note</p> <p>If the calculated autosens.ratio by Dynamic CR is greater than 1, the following formula is used to make the resulting CR less aggressive: </p> \\[ new.autosens.ratio\\ =\\ (autosens.ratio\\ -\\ 1)\\ /\\ 2 + 1 \\]"},{"location":"EN/settings/configuration/concepts/autosens-dynamic/#adjust-basal","title":"Adjust Basal","text":"<p>Adjust Basal replaces Autosens's formula for adjusting basal rates, with a formula dependent on total daily dose (TDD) of insulin. Turn on this setting to give basal adjustments more agility. Keep this setting off if your basal needs are not highly variable.</p>"},{"location":"EN/settings/configuration/concepts/autosens-dynamic/#advanced-information_1","title":"Advanced Information","text":"<p>Normally, a new basal rate is set by autosens:</p> <ul> <li>New basal profile = current basal profile * autosens.ratio</li> </ul> <p>Adjust basal replaces the autosens.ratio with its own autosens.ratio calculated as such:</p> <ul> <li>autosens.ratio = (weighted average of TDD)/(2 week average of TDD)</li> <li>New basal profile = current basal profile * autosens.ratio</li> </ul> <p>See <code>Weighted Average of TDD</code> setting to understand how this variable is calculated.</p> <p>Example</p> <p>Bill's TDD has been 55 U over the last 24 hours, and his 10-day average is 48 U. He has set his <code>Weighted average of TDD</code> in preferences to 0.7. His current profile basal rate is 1 U/h.</p> \\[   Weighted\\ average\\ of\\ TDD\\ =\\ 0.7 * 55 U + 0.3 * 48 U = 52.9 U \\] \\[ basal.autosens.ratio\\ =\\ 52.9 U\\ / 48 U\\ =\\ 1.1U \\] \\[ New\\ basal\\ profile\\ =\\ 1 U/h * 1.1\\ =\\ 1.1 U/h \\] <p>Final Thoughts</p> <p>Remember that all Autosens ratios calculated in this section are being limited by Autosens Max and Autosens Min safety limiters. Additionally, Dynamic CR has a built-in safety limiter against highly aggressive ratios.</p>"},{"location":"EN/settings/configuration/concepts/sigmoid/","title":"Sigmoid Function","text":""},{"location":"EN/settings/configuration/concepts/sigmoid/#what-is-it","title":"What is it?","text":"<p>The sigmoid function provides an alternative to the default logarithmic function. It is called Sigmoid because the math used to calculate adjustments forms a sigmoid shape.</p> <p></p>"},{"location":"EN/settings/configuration/concepts/sigmoid/#how-does-it-work","title":"How does it work?","text":"<p>Sigmoid relies upon how far your blood glucose is from your target BG to determine how much to adjust ISF. As blood sugars get farther away from your target BG, sigmoid adjustments get larger. The adjustments are limited by autosens max and autosens min settings.</p> <p>Click here to view a graph depicting the sigmoid formula in mg/dL</p> <p>Click here to view a graph depicting the sigmoid formula in mmol/L</p>"},{"location":"EN/settings/configuration/concepts/smb-uam/","title":"SMB and UAM","text":"<p>Highlights</p> <ul> <li>Enable SMB and UAM after ensuring accurate basal rates and ISF.</li> <li>Adjust SMB/UAM minutes to allow the system to give greater amounts of insulin with one bolus.</li> <li>Max IOB must be greater than 0 for it to function. Suggested: average meal bolus + 3x max daily basal.</li> </ul>"},{"location":"EN/settings/configuration/concepts/smb-uam/#super-micro-boluses","title":"Super Micro Boluses","text":"<p>Super micro bolus (SMB) gives you small amounts of insulin upfront in the form of a bolus. Your temporary basal rates will be reduced accordingly before or after the SMB is delivered, so you will overall receive the same amount of insulin you would have received with temporary basal rates alone. SMB allows for faster control of blood sugars by providing more insulin upfront.</p> <p>There are limitations on the size of SMBs. See the OpenAPS documentation for more information.</p> <p>Important</p> <ul> <li>Please ensure your profile settings are accurate before enabling SMB and UAM.</li> <li>Do not perform manual correction boluses with SMB and UAM enabled. You will be at a high risk of having a low.</li> </ul> <p>There are numerous settings related to enabling SMBs in Trio. Below is the order of precedence of the settings Trio uses when deciding whether to enable or disable SMB:</p> <ol> <li>disable SMB when a high temp target is set (unless \"allow SMB with High Temptarget\" is enabled)</li> <li>enable SMB/UAM if always-on (unless disabled for high temp target)</li> <li>enable SMB/UAM (if enabled in preferences) while we have COB</li> <li>enable SMB/UAM (if enabled in preferences) for a full 6 hours after any carb entry</li> <li>enable SMB/UAM (if enabled in preferences) if a low temp target is set</li> </ol> <p>For a detailed look at when SMBs are delivered, see the chart in Are SMBs Allowed? section.</p>"},{"location":"EN/settings/configuration/concepts/smb-uam/#unannounced-meals","title":"Unannounced Meals","text":"<p>Unannounced Meal (UAM) provides an alternative method (in addition to or instead of carb entry) for detecting and safely dosing insulin via SMBs in response to significant BG rises, whether due to meals, stress/illness, or counterregulatory hormones (adrenaline, cortisol, glucagon, HGH). When enabled, it replaces Advanced Meal Assist (AMA). AMA is an older feature that depends on your carbohydrate entries and sets high temporary basal rates to counteract any remaining carbs on board.</p>"},{"location":"EN/settings/configuration/preferences/dynamicsettings/","title":"Dynamic Settings","text":"<p>Attention</p> <p>Please read Autosens and Dynamic ISF/CR before continuing.</p> <p>Tip</p> <ul> <li>Dynamic ISF and Dynamic CR: Enable for more responsive changes to your current blood glucose and TDD. </li> <li>Adjustment Factor: A higher adjustment factor will result in a lower ISF/CR (increase in insulin dosage), and a lower adjustment factor will give a higher ISF/CR (decrease in insulin dosage). Adjust by 0.1 steps as needed.</li> <li>Adjust basal: Enable if your basal rates are otherwise not being adjusted adequately.</li> </ul>"},{"location":"EN/settings/configuration/preferences/dynamicsettings/#dynamic-isf","title":"Dynamic ISF","text":"<p>Dynamic ISF is a more aggressive alternative to Autosens's ISF adjustment algorithm. Many people find that ISF depends on BG level instead of solely time of day, making it hard to fix persistent highs by adjusting the scheduled ISF settings.</p>"},{"location":"EN/settings/configuration/preferences/dynamicsettings/#dynamic-cr","title":"Dynamic CR","text":"<p>Dynamic CR alters your carb ratio with every loop cycle based on your current blood glucose and TDD of insulin. Turn it on if you experience your CR changing day-to-day or at different blood glucose levels and Trio is not consistently suggesting appropriate boluses. You should first rule out other causes for this, including inadequate carb counting or inappropriate profile ICR.</p>"},{"location":"EN/settings/configuration/preferences/dynamicsettings/#adjustment-factor","title":"Adjustment Factor","text":"<p>Adjustment Factor (AF) allows one to bias the Dynamic ISF and Dynamic CR (if they are enabled) toward more or less aggressive results. Increasing AF will result in the Dynamic ISF/CR outputting more aggressive values while decreasing it will bias the output toward less aggressive values. It is recommended to start with an AF of 0.5-0.8 and increase as needed.</p> <p>Example</p> <p>Bill has Dynamic CR on. His Dynamic CR is calculated to be 1:4 by Trio based on his current blood glucose, TDD, and his set ISF. But Bill decides to set his AF to 1.2 because he has found recently that Dynamic CR has not been giving him aggressive enough numbers. Trio acts accordingly, increasing his CR to something above 1:4 instead (ex: 1:3.5).</p> <p>This is a simplified example. See the section on Dynamic CR for more information.</p> <p>Caution</p> <p>Adjustment Factor (AF) is not a safety limiter</p> <ul> <li>Increasing AF means you are telling the system that ALL dynamically calculated ISF/CR values have not been aggressive enough, and you want the system to make them more aggressive.</li> <li>Decreasing AF means you are telling the system that ALL dynamically calculated values are too aggressive, and to make them less so.</li> </ul>"},{"location":"EN/settings/configuration/preferences/dynamicsettings/#sigmoid-function","title":"Sigmoid Function","text":"<p>Dynamic CR and ISF use a logarithmic function to perform calculations by default.</p> <p>This option replaces the logarithmic function with a sigmoid function for Dynamic ISF/CR calculations.</p> <p>Before enabling this setting, please read the dedicated section on sigmoid. </p> <p>Warning</p> <p>Before enabling Sigmoid</p> <ul> <li>Reset Autosens Max to 1.2</li> <li>Reset Autosens Min to 0.8</li> <li>Set Adjustment Factor between 0.4-0.5</li> </ul>"},{"location":"EN/settings/configuration/preferences/dynamicsettings/#weighted-average-of-tdd-weight-of-past-24-hours","title":"Weighted Average of TDD. Weight of past 24 hours:","text":"<p>This ratio is used by \"Adjust basal\" for its calculations. It allows you to effectively control the variability of basal adjustments (if Adjust basal is enabled). You can set this value to a decimal between 0 and 1. </p> <ul> <li>Set at 1.0 = uses 100% of the TDD from the past 24 hours</li> <li>Set at 0.65 (default) = 65% of the TDD from the past 24 hours + 35% of the TDD from the past 2 weeks</li> <li>Set at 0.0 = uses 100% of the TDD from the past 2 weeks</li> </ul> <p>Example</p> <p>Bill has a TDD of 55 U over the last 24 hours. He has had a TDD of 48 U over the last 10 days. His Weighted Average is set at 0.65:</p> \\[ TDD Average = 55 * 0.65 + 48 * 0.35 = 52.55 \\] <p>As you increase the default 0.65 ratio to a higher number, the adjusted basal rates will be more influenced by your last 24-hour insulin usage, resulting in more variable changes.</p>"},{"location":"EN/settings/configuration/preferences/dynamicsettings/#adjust-basal","title":"Adjust Basal","text":"<p>Adjust Basal replaces the sensitivity-based formula normally used by Autosens for adjusting your basal rates with a dynamic formula dependent on your TDD of insulin. Use this if the current Trio adjustments of basal rates are not adequate.</p>"},{"location":"EN/settings/configuration/preferences/dynamicsettings/#threshold-setting-mgdl","title":"Threshold Setting (mg/dl)","text":"<p>The threshold setting is a safety limiter function. If blood sugar at any point is predicted to go below this value, Trio will suspend insulin delivery (SMBs are halted and Temp Basal of 0 U/hr set) and wait till its algorithms predict otherwise. This setting can be useful if you are experiencing a high number of hypoglycemia events. Please review the OpenAPS documents if you want a better understanding of how it is used. </p> <p>The threshold setting is, by default, determined by your blood glucose target setting:</p> <ul> <li>Lower Target: 90 mg/dl = Threshold 65 mg/dl</li> <li>Lower Target: 100 mg/dl = Threshold 70 mg/dl</li> <li>Lower Target: 110 mg/dl = Threshold 75 mg/dl</li> <li>Lower Target: 130 mg/dl = Threshold 85 mg/dl</li> </ul> <p>This setting allows you to choose a higher threshold setting than the default. Note that you cannot choose something lower than the default setting for a certain blood glucose target.</p> <p>Example</p> <p>Bill has set a BG target of 110 mg/dl. In his Trio preferences, he has set his threshold to 65 mg/dl.</p> <p>Because Trio's default threshold setting is 75 mg/dl for a 110 mg/dl blood glucose target, Bill's preference will be ignored.</p>"},{"location":"EN/settings/configuration/preferences/mainsettings/","title":"OpenAPS Main Settings","text":"<p>Important</p> <ul> <li>Insulin curve: Choose the insulin used in your pump</li> <li>Max IOB: Use the formula \"average meal bolus + 3x highest hourly basal\" to determine your Max IOB. Increase slowly if more insulin is warranted</li> <li>Autosens Max/Min: Increase the autosens max and autosens min to allow the system to choose more or less aggressive autotune and autosens values regarding your scheduled value.</li> </ul>"},{"location":"EN/settings/configuration/preferences/mainsettings/#insulin-curve","title":"Insulin Curve","text":"<p>Select your insulin type for the appropriate response curve to be used by the algorithm:</p> Bilinear:   This IOB curve is based on a bilinear activity curve that varies by the user\u2019s duration of insulin action setting in their pump.  Rapid-acting:   This is the default setting for Novolog, Novorapid, Humalog, and Apidra insulins. Selecting this setting will cause OpenAPS to use an exponential activity curve with a peak activity set at 75 minutes and a duration of insulin action set at 300 minutes (5 hours).  Ultra-Rapid:   This is the default setting for Fiasp and Lyumjev. It uses an exponential activity curve with a peak activity set at 55 minutes and a duration of insulin action set at 300 minutes (5 hours).  <p>Caution</p> <p>Duration of insulin (DIA) action can be altered in the pump settings section of Trio. A minimum of 5 hours is required. It is not advised to alter this setting from the default.</p> <p>To understand why a higher duration of insulin action is used in Trio, click to see the following documentation from Tim Street.</p>"},{"location":"EN/settings/configuration/preferences/mainsettings/#max-iob","title":"Max IOB","text":"<p>The maximum amount of insulin on board (i.e. in the body). This includes insulin from all sources (basal and bolus) that are automatically delivered by Trio. Manual boluses are not subjected to this limiter. </p> <p>The default is set to zero, meaning Trio can only set temporary basal rates lower than your profile basal rate. It cannot set temporary basal rates that exceed your profile basal rate in cases of high blood sugar, and it cannot use super micro boluses to control blood sugar.  </p> <p>You can start by increasing this number to your average mealtime bolus and evaluating its effect. The default recommendation is \u201caverage meal bolus + 3x max hourly basal\u201d when using super micro boluses.</p> <p>Example</p> <p>Bill has an average mealtime bolus of 6U, and the following basal profile:</p> <ul> <li>12:00 am: 1.0 U/hr</li> <li>6:00 pm: 2.0 U/hr (Highest Hourly Basal)</li> <li>9:00 pm: 1.5 U/hr</li> </ul> <p>Using the MaxIOB formula</p> \\[ Average\\ Meal\\ Bolus + 3 \\times Highest\\ Hourly\\ Basal \\] <p>his recommended Max IOB setting should be 12</p> \\[ 6 + 3 \\times 2.0 = 12 \\] <p>If you are insulin resistant and/or need help dealing with meal spikes, you can continue to increase this number further to allow for greater insulin delivery.</p>"},{"location":"EN/settings/configuration/preferences/mainsettings/#max-cob","title":"Max COB","text":"<p>The maximum amount of carbs that Trio is allowed to bolus or set high-temp targets for. This safety feature protects against erroneous carbohydrate entries that could lead to hypoglycemia episodes.</p> <p>Tip</p> <p>If you tend to eat more than 120 g of carbs in one sitting, choose the maximum amount of carbs you eat.</p>"},{"location":"EN/settings/configuration/preferences/mainsettings/#max-daily-safety-multiplier","title":"Max Daily Safety Multiplier","text":"<p>Limits the maximum temporary basal rate Trio is able to use at any time. The default setting of 3, which is unlikely to need adjustment, allows for a maximum basal rate of 3 times the maximum daily basal.</p> <p>Example</p> <p>Bill has Max Daily Safety Multiplier set to 3 and the following basal profile:</p> <ul> <li>12:00 am: 1.0 U/hr</li> <li>6:00 pm: 2.0 U/hr (Highest Hourly Basal)</li> <li>9:00 pm: 1.5 U/hr</li> </ul> <p>It is 7:00 am, so Trio has been scheduled to deliver 1 U/hr. But Bill is running high, so Trio wants to deliver more.</p> <p>Using the formula</p> \\[ Highest\\ Hourly\\ Basal \\times Max\\ Daily\\ Safety\\ Multiplier = Maximum\\ Temporary\\ Basal\\ Rate \\] <p>the maximum temporary basal rate that can be set is 3 units per hour</p> \\[ 1.0 \\times 3 = 3 \\]"},{"location":"EN/settings/configuration/preferences/mainsettings/#current-basal-safety-multiplier","title":"Current Basal Safety Multiplier","text":"<p>Limits the maximum temporary basal rate Trio is able to use at the current time. The default setting of 4, which is unlikely to need adjustment, allows for a maximum basal rate of 4x the current basal rate. </p> <p>Example</p> <p>It is currently 9:00 am, and Bill has the following basal profile:</p> <ul> <li>12:00 am: 1.0 U/hr (Current Basal Rate)</li> <li>6:00 pm: 2.0 U/hr</li> <li>9:00 pm: 1.5 U/hr</li> </ul> <p>Using the formula</p> \\[ Current\\ Basal\\ Rate \\times Current\\ Basal\\ Safety\\ Multiplier = Maximum\\ Temporary\\ Basal\\ Rate \\] <p>the maximum temporary basal rate that can be set by Trio at 9:00 am is 4 units per hour</p> \\[ 1.0 \\times 4 = 4 \\] <p>Important</p> <p>The algorithm compares the two results from Current Basal Safety Multiplier and Max Daily Safety Multiplier, then it limits calculations with the smaller of the two values</p>"},{"location":"EN/settings/configuration/preferences/mainsettings/#autosens-max","title":"Autosens Max","text":"<p>Please read Autosens and Dynamic ISF/CR and Autotune before adjusting this setting.</p> <p>This setting determines the maximum ratio autosens can use for its adjustments. Increasing this value allows autosens to increase insulin given through your basal profile, ISF, and target blood glucose.</p>"},{"location":"EN/settings/configuration/preferences/mainsettings/#autosens-max-with-dynamic-isf-andor-dynamic-cr","title":"Autosens Max with Dynamic ISF and/or Dynamic CR","text":"<p>This limits the ability of Dynamic ISF and Dynamic CR to make more aggressive adjustments.</p>"},{"location":"EN/settings/configuration/preferences/mainsettings/#autosens-max-with-autotune","title":"Autosens Max with Autotune","text":"<p>This limits Autotune's ability to make more aggressive adjustments to your CR, basal profile, and ISF.</p>"},{"location":"EN/settings/configuration/preferences/mainsettings/#autosens-min","title":"Autosens Min","text":"<p>Please read Autosens and Dynamic ISF/CR and Autotune before adjusting this setting.</p> <p>This setting determines the minimum ratio autosens can use for its adjustments. Decreasing this value allows autosens to reduce insulin given through your basal profile, ISF, and target blood glucose.</p>"},{"location":"EN/settings/configuration/preferences/mainsettings/#autosens-min-with-dynamic-isf-andor-dynamic-cr","title":"Autosens Min with Dynamic ISF and/or Dynamic CR","text":"<p>This limits the ability of Dynamic ISF and Dynamic CR to reduce insulin needs.</p>"},{"location":"EN/settings/configuration/preferences/mainsettings/#autosens-min-with-autotune","title":"Autosens Min with Autotune","text":"<p>This setting Autotune's ability to reduce insulin needs in your CR, basal profile, and ISF.</p>"},{"location":"EN/settings/configuration/preferences/othersettings/","title":"OpenAPS Other Settings","text":"<p>Caution</p> <p>None of these settings likely require adjustment from their defaults</p>"},{"location":"EN/settings/configuration/preferences/othersettings/#rewind-resets-autosens","title":"Rewind Resets Autosens","text":"<p>\"Rewind\" in Medtronic lingo refers to the attachment of a new insulin reservoir and infusion set. For Omnipod users, this means replacing your pod with a new one.</p> <p>When you change the insulin injection site, you might find your insulin sensitivity is altered based on how well it's diffusing into your bloodstream. </p> <p>This setting resets autosens's calculated autosens.ratio and forces it to restart anew from the time of the site change to improve your calculated basal rates, sensitivity ratio, and target blood glucose.</p> <p>For more information, please read Autosens and Dynamic ISF/ICR.</p>"},{"location":"EN/settings/configuration/preferences/othersettings/#use-custom-peak-time","title":"Use Custom Peak Time","text":"<p>Toggle this on to use the \"Insulin Peak Time\" setting.</p>"},{"location":"EN/settings/configuration/preferences/othersettings/#insulin-peak-time","title":"Insulin Peak Time","text":"<p>Note</p> <p>Requires \"Use Custom Peak Time\" to be enabled.</p> <p>Select a peak activity time point, based on your insulin type.</p>"},{"location":"EN/settings/configuration/preferences/othersettings/#skip-neutral-temps","title":"Skip Neutral Temps","text":"<p>This feature was introduced in the OpenAPS algorithm (Oref0) but does not play a major role in Trio. </p> <p>Light sleepers using OpenAPS would find that the notifications delivered by OpenAPS upon making a temp basal adjustment would wake them up.</p> <p>This setting attempts to reduce notifications produced by OpenAPS (and Trio). However, it could potentially impact control and make it harder for users to determine if the system is working.</p> <p>Caution</p> <p>It is recommended to keep this setting disabled</p>"},{"location":"EN/settings/configuration/preferences/othersettings/#unsuspend-if-no-temp","title":"Unsuspend if No Temp","text":"<p>Important</p> <p>This setting only applies to Medtronic Pumps</p> <p>After manually suspending your pump, you will be provided with a reminder at a chosen time to resume it. Many people, however, neglect this reminder and forget to unsuspend, leading to highs.</p> <p>This feature allows you to use zero temp basals to unsuspend your pump automatically. Before suspending your pump, set a 0 U/hr temp basal for the period you want the pod to remain suspended. Then suspend the pod. Once the temp basal expires, the pod will be automatically reactivated.</p>"},{"location":"EN/settings/configuration/preferences/othersettings/#suspend-zeros-iob","title":"Suspend Zeros IOB","text":"<p>This allows Trio to understand better that no insulin is being delivered to the patient when a pump suspension occurs.</p> <p>Trio will set a zero temp basal (0 U/hr) during pump suspensions, improving its insulin on board calculations and, therefore, its algorithm calculations.</p> <p>Recommended to keep this setting enabled.</p>"},{"location":"EN/settings/configuration/preferences/othersettings/#min-5m-carbimpact","title":"Min 5m Carbimpact","text":"<p>This is a fallback setting used by Trio. If Trio is unable to tell if carbs are being absorbed from blood sugar readings, it will estimate how many carbs have been absorbed using this setting.</p> <p>The default value of 8 mg/dL/5min assumes carbohydrates will increase blood sugar by 8 mg/dL every 5 minutes. The actual amount of carbohydrates estimated to be absorbed depends on your calculated carbohydrate sensitivity ratio (CSF = ISF/CR).</p>"},{"location":"EN/settings/configuration/preferences/othersettings/#autotune-isf-adjustment-fraction","title":"Autotune ISF Adjustment Fraction","text":"<p>Autotune, by default, adjusts your ISF by 20% each nightly run. This value allows you to make your autotune adjustments less aggressive.</p> <p>Set this at 1 for the full 20% adjustment.</p> <p>Maths</p> \\[ adjustedISF\\ =\\ adjustmentFraction\\ *\\ autotuneISF\\ +\\ (1-adjustmentFraction)\\ *\\ profileISF \\] \\[ newISF\\ =\\ (\\ 0.8\\ *\\ profileISF\\ )\\ +\\ (\\ 0.2\\ *\\ adjustedISF\\ ) \\] <p>Example</p> <p>Bill has a profile ISF of 3. Autotune thinks his true ISF value is 4. His adjustment fraction is 1.</p> \\[ adjustedISF = 1 * 4 + (1 - 1) * 3 = 4 \\] \\[ newISF = (0.8 * 3) + (0.2 * 4) = 3.2 \\] <p>Assuming autotune is not being limited by the autosens max and min, Bill's ISF will be set to 3.2 by autotune tonight. Autotune will then repeat the following night, starting with a profileISF = 3.2</p>"},{"location":"EN/settings/configuration/preferences/othersettings/#remaining-carbs-fraction","title":"Remaining Carbs Fraction","text":"<p>This is the fraction of carbs that is assumed not to be absorbed yet after 4 hours if carb absorption has not been seen. </p> <p>When attempting to measure carbohydrates on board (COB) Trio may not be fully accurate. This setting is a safety feature that can prevent Trio from providing insulin for non-existent carbs.</p> <p>Example</p> <p>It has been 4 hours since Bill ate 20 carbs. Trio has been able to calculate that he's absorbed 15 carbs but cannot account for the 5 other carbs yet. Bill has a remaining carbs fraction of 0.75</p> \\[ Remaining COB = COB - absorbedCarbs - mealCarbs * (1 - carbsFraction) \\] \\[ 20 - 15 - 20(1 - 0.75) = 0 \\] <p>Bill is assumed to have 0g carbs on board</p> <p>Tip</p> <p>Recommend to keep this value at the default of 1 meaning it will not impact Trio's calculations. This feature is closely tied to \"Remaining Carbs Cap.\"</p>"},{"location":"EN/settings/configuration/preferences/othersettings/#remaining-carbs-cap","title":"Remaining Carbs Cap","text":"<p>This setting is a safety limiter that determines the maximum amount of carbs that are assumed to be absorbed after 4 hours of carb absorption. A minimum of 90 carbs is mandatory for this setting.</p> <p>Example</p> <p>Bill eats 150 carbs. After 4 hours, Trio calculates a COB of 110. It will reduce that number to 90 carbs.</p> <p>Tip</p> <p>It is recommended to keep this value at default</p>"},{"location":"EN/settings/configuration/preferences/othersettings/#noisy-cgm-target-multiplier","title":"Noisy CGM Target Multiplier","text":"<p>If Trio detects that CGM data has been noisy, it will increase your target blood sugar by a set fraction to avoid you getting low. Default is 30% higher (1.3)</p> <p>Example</p> <p>Bill's Trio has calculated a blood glucose target of 5 mmol/L (90 mg/dL). But Bill has a noisy sensor. He has set his \"Noisy CGM Target Multiplier\" to 1.3. Trio will thereby use a target bg of:</p> \\[ 5 mmol/L * 1.3 = 6.5 mmol/L \\] \\[ 90 mg/dL * 1.3 = 117 mg/dL \\] <p>Tip</p> <p>It is recommended to keep this value at the default of 1.3.</p>"},{"location":"EN/settings/configuration/preferences/smbsettings/","title":"SMB Settings","text":"<p>Important</p> <ul> <li>Super micro boluses (SMB) deliver small doses of insulin. Your basal rate will be temporarily reduced after an SMB is delivered.</li> <li>SMBs reduce blood sugar more quickly than temporary basal rates.</li> <li>If you want Trio to make all SMB decisions, select Enable SMB Always and leave the other settings deselected.</li> <li>Follow the directions below if you want to configure SMBs only to run in certain conditions.</li> <li>For a detailed look at when SMBs are delivered, see the chart in Are SMBs Allowed? section. </li> <li>For setup recommendations, see the Start-Up Guide.</li> </ul>"},{"location":"EN/settings/configuration/preferences/smbsettings/#enable-smb-always","title":"Enable SMB Always","text":"<p>Enabling this setting allows SMBs to be delivered if your blood sugar is predicted to go above target. </p> <p>SMBs will remain on if you have a low temporary target set but will be fully disabled if a high temporary target is set (unless \"Allow SMB With High Temptarget\" is enabled).</p> <p>The size of SMBs is limited. For more information, see the OpenAPS documentation.</p>"},{"location":"EN/settings/configuration/preferences/smbsettings/#max-delta-bg-threshold-smb","title":"Max Delta-BG Threshold SMB","text":"<p>This safety limiter looks at the difference between your last two blood glucose readings. If the difference is large, Trio suspects them to be incorrect and will suspend SMB delivery accordingly. You can adjust the amount of change that should be allowed before SMBs are delivered. A setting of 0.2 means it will only give SMBs if the difference between the current and previous blood glucose readings is no greater than 20%.</p> <p>Example</p> <p>Your last CGM reading was 90mg/dL. The very next reading is 115mg/dL, an increase of 27%. If Max Delta-BG Threshold SMB is set to 0.2 (20%), this change is larger than the threshold, and no SMBs will be given.</p> <p>Tip</p> <p>For a fully closed loop, 0.3 is advised.</p>"},{"location":"EN/settings/configuration/preferences/smbsettings/#enable-smb-with-cob","title":"Enable SMB With COB","text":"<p>SMBs will be enabled if you currently have carbs on board (COB) to help you deal with meal spikes. This feature should be enabled if you want to use UAM.</p> <p>Note</p> <p>If you already have \"Enable SMB Always\" on, this feature is redundant and does not need to be configured.</p>"},{"location":"EN/settings/configuration/preferences/smbsettings/#enable-smb-with-temptarget","title":"Enable SMB with Temptarget","text":"<p>SMBs will be enabled if you have set a lower blood sugar target temporarily. This will allow you to reach your target faster.</p> <p>Note</p> <p>If you already have \"Enable SMB Always\" on, this feature is redundant and does not need to be configured.</p>"},{"location":"EN/settings/configuration/preferences/smbsettings/#enable-smb-after-carbs","title":"Enable SMB After Carbs","text":"<p>SMBs will be enabled if you had carbs within the last 6 hours to help with meal spikes.</p> <p>Note</p> <p>If you already have \"Enable SMB Always\" on, this feature is redundent and does not need to be configured.</p>"},{"location":"EN/settings/configuration/preferences/smbsettings/#allow-smb-with-high-temptarget","title":"Allow SMB With High Temptarget","text":"<p>By default, Trio will not allow SMBs if you have a temporary blood glucose target set above 5.5 mmol/L (100 mg/dL), even if \"Enable SMB Always\" is toggled on. Toggling this feature ON will disable that safety check and not prevent SMBs when a high temporary target is set, as long as SMBs are otherwise enabled.</p>"},{"location":"EN/settings/configuration/preferences/smbsettings/#enable-smb-with-high-bg","title":"Enable SMB With High BG","text":"<p>This allows SMBs to occur above the measure set below in \"...When Blood Glucose is Over (mg/dl)\". </p> <p>Note</p> <p>If you already have \"Enable SMB Always\" on, this feature is redundant and does not need to be configured.</p>"},{"location":"EN/settings/configuration/preferences/smbsettings/#when-blood-glucose-is-over-mgdl","title":"... When Blood Glucose is Over (mg/dl)","text":"<p>See the above setting for more information. This allows you to configure the target at which SMBs will be enabled.</p>"},{"location":"EN/settings/configuration/preferences/smbsettings/#enable-uam","title":"Enable UAM","text":"<p>With this option enabled, the SMB algorithm can recognize unannounced meals. This is helpful if you forget to tell Trio about your carbs or estimate your carbs wrong. It can also help if a meal with lots of fat and protein has a longer duration than expected. Without any carb entry, UAM can recognize fast glucose rises caused by carbs, illness, or counter-regulatory hormones, and tries to adjust it with SMBs. This also works the opposite way: if there is a fast glucose drop, it can stop SMBs earlier.</p>"},{"location":"EN/settings/configuration/preferences/smbsettings/#max-smb-basal-minutes","title":"Max SMB Basal Minutes","text":"<p>Max SMB Basal minutes is one of the major limits on how much insulin a single SMB delivers. </p> <p>The amount of insulin that can be delivered by an SMB is related to the amount of scheduled basal insulin in your \"Basal Profile\" settings. </p> <p>For example, if you are receiving a basal dose of 1 unit per hour and set \"Max SMB Basal minutes\" to 30, an SMB will deliver no more insulin than would be delivered by your basal in 30 minutes or half a unit (0.5U). </p> <p>If you see that Trio is giving very small \u2014 or the same \u2014 SMBs every 5 minutes, you may need to adjust the Max IOB or Max SMB basal minutes. First, you should confirm your basal rates are adequate. Then, you can experiment with increasing Max SMB basal minutes so Trio can provide larger SMBs to better respond to BG rises and predicted rises.</p>"},{"location":"EN/settings/configuration/preferences/smbsettings/#max-uam-smb-basal-minutes","title":"Max UAM SMB Basal Minutes","text":"<p>This setting limits the size of SMBs that Trio can deliver when it detects an unannounced meal (UAM). The maximum size of each SMB is set in relation to the scheduled basal insulin in your profile settings. </p> <p>You can configure this setting to make UAM more or less aggressive to correct meal spikes. Note that SMBs delivered in response to unannounced meals are also limited by your Max IOB. See \"Max SMB Basal Minutes\" above for information on other settings that limit SMBs.</p> <p>Tip: If you struggle with meals or hormonal highs, consider increasing maximum basal minutes (slowly and watching results over multiple days before changing again) to allow UAM to give more insulin in one bolus.</p>"},{"location":"EN/settings/configuration/preferences/smbsettings/#smb-deliveryratio","title":"SMB DeliveryRatio","text":"<p>This is a safety limiter. Trio determines how much insulin is required to get you back to your target glucose. If SMB is enabled, Trio then delivers an SMB, that defaults to half the required insulin.</p> <p>This setting allows you to boost or reduce what fraction of the required insulin is delivered in a single SMB. It is recommended you look at your basal profile, Max SMB basal minutes, Max UAM SMB Basal Minutes, and Max IOB before you adjust this setting.</p>"},{"location":"EN/settings/configuration/preferences/smbsettings/#smb-interval","title":"SMB Interval","text":"<p>The minimum interval between SMB boluses. SMBs will be delivered at this rate or less as needed.</p>"},{"location":"EN/settings/configuration/preferences/smbsettings/#bolus-increment","title":"Bolus Increment","text":"<p>The minimum amount of insulin that can be bolused by Trio via an SMB. This is determined by your pump hardware.</p>"},{"location":"EN/settings/configuration/preferences/smbsettings/#are-smbs-allowed","title":"Are SMBs Allowed?","text":""},{"location":"EN/settings/configuration/preferences/smbsettings/#by-following-the-flow-chart-above-you-can-see-which-combination-of-settings-will-allow-smbs","title":"By following the flow chart above, you can see which combination of settings will allow SMBs.","text":"<ul> <li>If a setting in the top row is toggled off, look at the next box to the right. If no box in the top row is toggled on, then SMBs will not be allowed. </li> <li>If any of the settings in the top row are toggled on and their condition is true, follow the green line down to the \"Allow SMB with High Temptarget\" box. </li> <li>If \"Allow SMB with High Temptarget\" is toggled on (NOT the default), then continue to follow the green line to the bottom conditions.</li> <li>If \"Allow SMB with High Temptarget\" is toggled off (which IS the default), it will then check if you've set a Temp Target (not a custom profile) above 100 mg/dL (5.5 mmol/L). If you have a Temp Target set above 100 mg/dL, then SMBs are DISABLED and not allowed.</li> </ul> <p>If you've made it to the bottom row, it checks all those conditions, and if none of them are true, then SMBs are allowed.</p>"},{"location":"EN/settings/configuration/preferences/smbsettings/#here-is-the-order-of-settings-trio-uses-when-deciding-whether-to-enable-or-disable-smbs","title":"Here is the order of settings Trio uses when deciding whether to enable or disable SMBs:","text":"<ul> <li>Disable when a High Temptarget is set (unless \"Allow SMB with High Temptarget\" is enabled)</li> <li>Enable if \"Enable SMB Always\" is set (unless disabled for \"High Temptarget)\"</li> <li>Enable while there are COB</li> <li>Enable for a full 6 hours after any carb entry</li> <li>Enable if a Low Temptargt is set</li> </ul>"},{"location":"EN/settings/configuration/preferences/statistics/","title":"Statistics","text":"<p>[!IMPORTANT] This section is entirely visual and does not impact insulin dosage calculations</p>"},{"location":"EN/settings/configuration/preferences/statistics/#low-glucose-limit","title":"Low Glucose Limit","text":"<p>Sets the lower blood sugar limit for statistical determination of time below range (TBR).</p>"},{"location":"EN/settings/configuration/preferences/statistics/#high-glucose-limit","title":"High Glucose Limit","text":"<p>Sets the higher blood sugar limit for statistical determination of time above range (TAR)</p>"},{"location":"EN/settings/configuration/preferences/statistics/#update-every-number-of-minutes","title":"Update every number of minutes","text":"<p>This setting determines how often the statistics are updated on the home screen and, for advanced users, controls how often statistics are uploaded to Nightscout.</p>"},{"location":"EN/settings/configuration/preferences/statistics/#display-loop-cycle-statistics","title":"Display Loop Cycle statistics","text":"<p>This shows the average number of loops performed over the last 24 hours. Ideally, the number should be near 288, the maximum number of loops performed per day. Negative impacters include CPU speed, pump, and pod changes, connection issues, etc.</p>"},{"location":"EN/settings/configuration/preferences/statistics/#override-hba1c-unit","title":"Override HbA1c unit","text":"<p>By default, the estimated HbA1c statistic is given in percentage units. Enabling this toggle converts it to mmol/mol units.</p>"},{"location":"EN/settings/configuration/preferences/targetsettings/","title":"OpenAPS Targets Settings","text":"<p>High Temptarget Raises Sensitivity</p> <p>Enable <code>High Temptarget Raises Sensitivity</code> if you exercise frequently with high temp targets and are going low.</p>"},{"location":"EN/settings/configuration/preferences/targetsettings/#high-temptarget-raises-sensitivity","title":"High Temptarget Raises Sensitivity","text":"<p>For more information, please read Autosens and Dynamic ISF/CR.</p> <p>Normally, Trio assumes your sensitivity will be lower with higher blood sugar levels (resulting in greater amounts of insulin being delivered). During periods of exercise, some people may instead experience increased sensitivity to insulin. With this feature enabled, setting a high temporary target will decrease the autosens ratio utilized for ISF and basal adjustments, resulting in less insulin delivered overall. This scales with the temporary target set; higher and higher temp targets lead to lower and lower insulin delivery in the form of basal rates and corrections. </p> <p>Note that this setting also disables Dynamic ISF when high temp targets are set.</p>"},{"location":"EN/settings/configuration/preferences/targetsettings/#low-temptarget-lowers-sensitivity","title":"Low Temptarget Lowers Sensitivity","text":"<p>For more information, please read Autosens and Dynamic ISF/CR.</p> <p>When planning to have a heavy meal, you may want to set a low temporary target to avoid high blood sugar spikes. You may also want Trio to deliver more insulin during this time to prevent meals from spiking too high. Enabling this feature will increase your autosens.ratio, which is utilized for ISF and basal adjustments, resulting in greater insulin delivery. This will allow Trio to better deal with post-prandial spiking.</p>"},{"location":"EN/settings/configuration/preferences/targetsettings/#sensitivity-raises-target","title":"Sensitivity Raises Target","text":"<p>When performing autosens and insulin dosing calculations, Trio uses a target blood glucose that is by default the lower value in your target range.</p> <p>Example: Bill has a target range of 5.5 to 6.0. His target blood glucose is thus 5.5. (Note that Bill's target is not exactly this value; Trio alters the target via autosens to improve its dosing)</p> <p>When \"Sensitivity Raises Target\" is enabled, Trio will set a higher blood glucose target to base its insulin dosage calculations on if it detects sensitivity. This can be useful if you find Trio is too aggressive.</p> <p>Advanced information: For more information, please read Autosens and Dynamic ISF/CR.</p> <p>If the autosens.ratio is determined to be &lt;1.0, this setting comes into effect and increases the blood glucose target by a small amount. See the OpenAPS code base for the exact formulas used.</p>"},{"location":"EN/settings/configuration/preferences/targetsettings/#resistance-lowers-target","title":"Resistance Lowers Target","text":"<p>See \"Sensitivity Raises Target\" for more information. When Trio detects high insulin resistance, it will set a lower blood glucose target for insulin dosage calculations, providing more insulin overall. This is useful for patients who experience uncontrollable highs.</p> <p>Advanced information: For more information, please read Autosens and Dynamic ISF/CR.</p> <p>If the autosens.ratio is determined to be &gt;1.0, this setting comes into effect and decreases the blood glucose target by a small amount. See the OpenAPS code base for the exact formulas used.</p>"},{"location":"EN/settings/configuration/preferences/targetsettings/#advanced-target-adjustments","title":"Advanced Target Adjustments","text":"<p>Deprecated; Autosens has alternative functions for determining if insulin can be safely added when high.</p>"},{"location":"EN/settings/configuration/preferences/targetsettings/#exercise-mode","title":"Exercise Mode","text":"<p>Redundant; same as \"High Temptarget Raises Sensitivity\". Enabling either feature will provide the desired change to sensitivity with high temp targets.</p>"},{"location":"EN/settings/configuration/preferences/targetsettings/#half-basal-exercise-target","title":"Half Basal Exercise Target","text":"<p>This setting allows you to control the reduction in basal when using either \"Exercise Mode\" or \"High Temptarget Raises Sensitivity.\" The default is 160 mg/dL, meaning basal will be at 50% of your scheduled with a temporary target at 160, 60% at 140, and 75% at 120.</p> <p>Advanced information: See openAPS code for more information. </p> <p>The formula used is:</p> \\[ (halfBasalTarget - 100)/((halfBasalTarget - 100)+(targetBG-100)) \\] <p>Example</p> <p>Bill has a halfBasalTarget of 160 and has set a temporary target of 120 for his upcoming exercise. Therefore, only 75% of his scheduled basal rate will be provided:</p> \\[ (160 - 100)/((160 - 100) + (120 - 100)) = 0.75 \\]"},{"location":"EN/settings/configuration/preferences/trio/","title":"Trio","text":""},{"location":"EN/settings/configuration/preferences/trio/#glucose-units","title":"Glucose Units","text":"<p>Allows you to toggle between mmol/L and mg/dL blood glucose units.</p>"},{"location":"EN/settings/configuration/preferences/trio/#remote-control","title":"Remote Control","text":"<p>Allows for remote control of Trio using Nightscout.</p> <p>Caution</p> <p>Duplicate Delivery Risk</p> <p>Please read before using Remote Features</p> <p>We want to highlight a very important risk before you get started.</p> <p>For safety, always assume a previous remote carb/bolus was delivered, whether it shows in Nightscout or not.</p> <p>For Example:   1. You send a 5-unit remote bolus.   2. The bolus is delivered to the Looper.   3. Nightscout has a temporary technical issue and doesn't show the bolus was received.   4. You are watching Nightscout and don\u2019t see a delivery, so you assume it failed.   5. You send another remote 5-unit bolus.   6. The second 5-unit bolus is delivered to the Looper (10 Units total).</p> <p>You can see the danger of sending duplicate bolus/carbs, so be careful. If a remote bolus/carb entry doesn\u2019t show in Nightscout/Caregiver, judge whether enough time has passed to try again.</p> <p>To use, navigate to your connected Nightscout instance. Click the lock icon at the top right and enter your API secret. Next, click the now visible \"+\" sign at the top right. A \"Log a Treatment\" menu will open up. </p> <p>To enter carbs, select the \"carb correction\" event type. Fill in the required blanks and click \"Submit Form\". Trio will read any carb entries in Nightscout and adjust insulin delivery as configured.</p> <p>To configure loop status, pump, or to bolus:</p> <ol> <li>Select the \"announcement\" event type.</li> <li>For \"entered by\" enter <code>remote</code> (Before Trio-main v0.1.0 it was <code>freeaps-x-remote</code> instead)</li> <li> <p>In additional notes, state one of the following options:</p> </li> <li> <p>To bolus, enter <code>bolus:(amount)</code> (ex: <code>bolus:0.5</code>).</p> </li> <li>To control pump, enter either <code>pump:suspend</code> or <code>pump:resume</code>. </li> <li>To control looping, enter either <code>looping:true</code> or <code>looping:false</code></li> <li>To control temporary basal rate, enter <code>tempbasal:(rate),(minutes)</code> (ex: <code>tempbasal:0,60</code> to set temporary basal rate at 0 U/hr for 60 minutes)</li> </ol> <p>Note</p> <p>Remote configurations with announcement-type events can only be performed every 10 minutes.</p>"},{"location":"EN/settings/configuration/preferences/trio/#recommended-bolus-percentage","title":"Recommended Bolus Percentage","text":"<p>Recommended bolus percentage is a safety feature built into Trio. By default, Trio first calculates an \"insulin recommended\" value when bolusing for carbs, which is the full dosage.  That dosage is multiplied by your <code>Recommended Bolus Percentage</code> to display your suggested insulin dose. Trio then delivers the remaining insulin via SMBs as the blood sugar starts to rise.</p> <p><code>Recommended Bolus Percentage</code> allows you to alter the amount initially delivered. By default (80), 80% of the required meal bolus is delivered before the meal. You can increase or decrease this to alter the insulin delivered prior to the meal.</p> <p>Note</p> <p>A manual bolus uses the <code>Eventual BG</code> for glucose prediction, whereas the <code>insulinReg</code> for SMBs uses the <code>minPredBG</code> (typically lower than Eventual BG).</p>"},{"location":"EN/settings/configuration/preferences/trio/#skip-bolus-screen-after-carbs","title":"Skip Bolus screen after carbs","text":"<p>After entering carbs, a mealtime bolus will not be suggested or delivered.</p>"},{"location":"EN/settings/devices/cgm/","title":"Compatible CGM","text":"<p>CGM selection includes the following:</p> <ul> <li>Nightscout</li> <li>xDrip</li> <li>Dexcom G5</li> <li>Dexcom G6/ONE</li> <li>Dexcom G7/ONE+</li> <li>Glucose Simulator</li> <li>Libre Transmitter</li> <li>Glucose Direct</li> <li>Medtronic Enlite</li> </ul>"},{"location":"EN/settings/devices/cgm/#nightscout","title":"Nightscout","text":"<p>While using Nightscout as a CGM is an option, it should be avoided if possible because it will not keep Trio running in the background like other CGM options. You will have to open Trio manually to make it run loop cycles.</p>"},{"location":"EN/settings/devices/cgm/#xdrip-xdrip4ios","title":"xDrip (xDrip4iOS)","text":"<p>To use xDrip4iOS as a CGM source, you must build it yourself with the same Apple Developer account you used to build your Trio app. You cannot use Shuggah or a version distributed by someone else's TestFlight. Please see the following for instructions on how to build xDrip4iOS yourself: link</p> <p>However, if you are using Dexcom G6 or ONE with xDrip4iOS, you can choose the Dexcom G6 option in Trio rather than xDrip4iOS, and Trio will intercept the glucose readings even if you're using Shuggah or someone else's TestFlight of xDrip4iOS.</p>"},{"location":"EN/settings/devices/cgm/#dexcom-g5g6-and-one","title":"Dexcom G5/G6 (and ONE)","text":"<p>Trio can intercept glucose readings between the transmitter and the Dexcom app. If you are using a Dexcom G5, G6, or ONE sensor, tap Configuration CGM to enter your transmitter's 6-digit ID. Dexcom Share Credentials are not necessary. When switching transmitters, you must delete your current transmitter from Trio by tapping Configuration CGM, scrolling down, and Delete CGM. Once you do this, you can add the new transmitter with its Transmitter ID.</p>"},{"location":"EN/settings/devices/cgm/#dexcom-g7","title":"Dexcom G7","text":"<p>Trio can intercept its glucose readings as long as the Dexcom G7 app is installed on the same phone. When a new G7 sensor is paired to the Dexcom G7 app, Trio will automatically start reading it.</p>"},{"location":"EN/settings/devices/cgm/#glucose-simulator","title":"Glucose Simulator","text":"<p>The Glucose Simulator adds artificial CGM readings to the screen so you can see how your readings might look in the app. When using this CGM option, you cannot manually influence the readings shown to reflect a desired glucose response. Actions taken by the Trio algorithm also do not affect the cgm readings in the Glucose Simulator. They are for visual purposes only. For this reason, using the Glucose Simulator will not help you understand how the algorithm influences blood sugars.</p> <p>Warning</p> <p>The Glucose Simulator should never be used in conjunction with a live pump connected to a person (or animal).</p>"},{"location":"EN/settings/devices/cgm/#libre-transmitter","title":"Libre Transmitter","text":"<p>This option pairs a compatible Libre CGM directly with Trio without using a separate app like xDrip4iOS or Glucose Direct.</p>"},{"location":"EN/settings/devices/cgm/#supported-sensors","title":"Supported Sensors","text":"<ul> <li>US Libre 1 10-day sensors via Transmitters</li> <li>US Libre 1 14-day sensors via Transmitters</li> <li>International Libre 1 sensors via Transmitters</li> <li>European Libre 2 sensors via Transmitters</li> <li>European Libre 2 sensors directly via Bluetooth</li> </ul>"},{"location":"EN/settings/devices/cgm/#unsupported-sensors","title":"Unsupported sensors","text":"<ul> <li>Non-European Libre 2 sensors</li> <li>Libre Pro sensors</li> <li>Libre H sensors</li> <li>Libre 3</li> </ul>"},{"location":"EN/settings/devices/cgm/#glucose-direct","title":"Glucose Direct","text":"<p>Until the providers of Glucose Direct add a Trio App Group to Glucose Direct, you cannot use this app with Trio. If that happens, then you must build it yourself with the same Apple Developer account you used to build your Trio app. You cannot use a version distributed by someone else's TestFlight.</p>"},{"location":"EN/settings/devices/cgm/#medtronic-enlite","title":"Medtronic Enlite","text":"<p>The Minimed Enlite CGM, available with the Medtronic 522/722, 523/723, and 554/754, wirelessly sends glucose readings to the pump. Trio can read the Medtronic CGM data directly from the pump using a RileyLink-compatible device.</p>"},{"location":"EN/settings/devices/pump/","title":"Pump","text":"<p>This section allows you to select your insulin delivery system. For more information on supported pumps, see the following: link. Older Omnipod and Medtronic devices require a Rileylink to translate communication between your phone's Bluetooth signals and the pump's radiocommunication.</p> <p>During the setup, you will also be asked to choose your insulin type, which will determine your duration of insulin action and peak activity time.</p>"},{"location":"EN/settings/services/applehealth/","title":"Apple Health","text":"<p>Info</p> <p>Apple Health is optional</p> <p>Enabling Apple Health allows Trio to write information on your blood sugar readings, insulin, and carbohydrates to Apple Health and read blood sugar readings in Apple Health. You will also need to give permission in iPhone Settings, Health, Data Access &amp; Devices to write data to Apple Health. This is useful for those who like to analyze their data with TidePool, Cockpit, or Glooko.</p>"},{"location":"EN/settings/services/fatprotein/","title":"Fat and Protein Conversion","text":"<p>Highlights</p> <ul> <li>Turn on to bolus for fat and protein</li> <li>Adjust your CR if you have lows</li> <li>Decrease your Interval in Minutes to make insulin delivery smoother</li> <li>Increase your \"Override With A Factor Of\" by 0.1 increments if you continue to have fat and protein spikes</li> </ul>"},{"location":"EN/settings/services/fatprotein/#convert-fat-and-protein","title":"Convert Fat and Protein","text":"<p>Many individuals may experience slow blood sugar rise after fatty or high-protein meals. Enabling \"Convert Fat and Protein\" allows you to provide a bolus for fat and protein units (FPU). The bolus is delivered in segments over a selected period to avoid the gradual rise in blood sugar. This is similar to setting absorption time or eCarbs if coming from Loop or AndroidAPS, respectively. For more information, click to see the Omnicalculator.</p> <p>Your current CR was likely compensating for some of the effects of protein and fat on blood sugar. If you choose to enable this setting, you will need to make your ICR less aggressive to prevent lows.</p>"},{"location":"EN/settings/services/fatprotein/#conversion-settings","title":"Conversion Settings","text":""},{"location":"EN/settings/services/fatprotein/#delay-in-minutes","title":"Delay In Minutes","text":"<p>This controls how long before the system starts to bolus for the fat and protein spike. The default setting is 60 minutes.</p>"},{"location":"EN/settings/services/fatprotein/#maximum-duration-in-hours","title":"Maximum Duration in Hours","text":"<p>Limits how long the system can bolus for FPU. A default of 8 is recommended.</p>"},{"location":"EN/settings/services/fatprotein/#interval-in-minutes","title":"Interval in Minutes","text":"<p>The interval between each microbolus provided for fat and protein. </p>"},{"location":"EN/settings/services/fatprotein/#override-with-a-factor-of","title":"Override With A Factor Of","text":"<p>Controls the fraction of insulin required for the fat and protein entered. A default of 0.5 allows only half the insulin the system thinks you require, to be delivered. You can experiment with raising this number to one if you continue to see rises in your blood sugar.</p>"},{"location":"EN/settings/services/nightscout/","title":"Visualization and Monitoring","text":"<p>Highlights</p> <ul> <li>Nightscout is optional but encouraged</li> <li>Nightscout is a useful tool for data analysis and followers</li> <li>Create a Nightscout server and input your URL and API_SECRET in Trio. Test the connection and enable \"Allow Uploads.\"</li> </ul>"},{"location":"EN/settings/services/nightscout/#nightscout-introduction","title":"Nightscout Introduction","text":"<p>Nightscout (NS) is an open-source, DIY project that allows real-time access to CGM data via a personal website, smartwatch viewers, or apps and widgets available for smartphones. Setting up a Nightscout web app is recommended to visualize your Trio closed loop. </p> <p>Nightscout allows a user to upload CGM data from various sources to an online database and cloud computing service. The information is then processed and displayed visually as a graph. Plugins also allow more information to be shown about Trio. </p> <p>Even if you don't choose to share your Nightscout site with another person, it will be helpful for you to visualize what the loop is doing and what it's been doing, plus generate helpful reports for understanding your data.</p> <p>For help making a Nightscout account, please see the OpenAPS documentation.</p>"},{"location":"EN/settings/services/nightscout/#trio-setup","title":"Trio Setup","text":"<p>To enable your nightscout connection, input your Nightscout URL, including the <code>https://</code> and your <code>API_SECRET</code>. Select <code>Allow uploads</code> so Trio can share its predictions and settings with Nightscout. </p>"},{"location":"EN/settings/services/notifications/","title":"Notifications","text":"<p>Allows configuration of Trio notifications. Adjust based on your preferences.</p> <p>Notifications can be enabled/disabled by toggling <code>Allow Notifications</code> on/off in <code>iPhone Settings &gt; Notifications &gt; Trio</code>.</p>"},{"location":"EN/settings/services/notifications/#glucose","title":"Glucose","text":""},{"location":"EN/settings/services/notifications/#show-glucose-on-the-app-badge","title":"Show glucose on the app badge","text":"<p>This will add your current glucose on top of your Trio icon.</p>"},{"location":"EN/settings/services/notifications/#always-notify-glucose","title":"Always Notify Glucose","text":"<p>A notification will be triggered every time your glucose is updated in Trio.</p>"},{"location":"EN/settings/services/notifications/#always-play-alert-sound","title":"Always play alert sound","text":"<p>This will cause a sound to be triggered by every Trio notification.</p>"},{"location":"EN/settings/services/notifications/#also-add-source-info","title":"Also add source info","text":"<p>The source of the glucose reading will be added to the notification.</p>"},{"location":"EN/settings/services/notifications/#low","title":"Low","text":"<p>Set this to the highest value you want a low glucose notification to be triggered at.</p>"},{"location":"EN/settings/services/notifications/#high","title":"High","text":"<p>Set this to the lowest value you want a high glucose notification to be triggered at.</p>"},{"location":"EN/settings/services/notifications/#carbs-required-threshold","title":"Carbs Required Threshold","text":"<p>Trio may predict a low blood sugar event and recommend consuming a suggested amount of carbs. <code>Carbs Required Threshold</code> determines the minimum amount of carbs required before Trio sends a notification. </p>"}]}